2025-10-14 16:47:56,274 [DEBUG] Logging initialized. Log file: /Users/pranavtadepalli/Documents/GitHub/VLM-ToM/logs/integrated_face_20251014_164756.log
2025-10-14 16:47:56,513 [DEBUG] Initializing AudioLoop with video_mode: camera
2025-10-14 16:47:56,513 [INFO] EVENT {"event": "audio_loop_init", "details": {"video_mode": "camera"}}
2025-10-14 16:47:56,513 [INFO] EVENT {"event": "audio_loop_state", "details": {"step": "init_complete"}}
2025-10-14 16:47:56,514 [DEBUG] Resetting memory cache file at startup: person_memory_cache.json
2025-10-14 16:47:56,514 [INFO] EVENT {"event": "memory_cache_reset", "details": {"cache_file": "person_memory_cache.json"}}
2025-10-14 16:47:56,514 [DEBUG] No existing memory cache found. Starting fresh.
2025-10-14 16:47:56,514 [INFO] EVENT {"event": "memory_cache_not_found", "details": {"cache_file": "person_memory_cache.json"}}
2025-10-14 16:47:56,514 [DEBUG] WebRTC VAD initialized.
2025-10-14 16:47:56,514 [INFO] EVENT {"event": "vad_initialized", "details": {"mode": 2}}
2025-10-14 16:47:57,662 [DEBUG] AudioLoop initialized successfully.
2025-10-14 16:47:57,663 [INFO] EVENT {"event": "main_started", "details": {"mode": "camera"}}
2025-10-14 16:47:57,664 [DEBUG] Starting application run loop.
2025-10-14 16:47:57,665 [DEBUG] Connecting to model: gemini-2.5-flash-native-audio-preview-09-2025
2025-10-14 16:47:57,665 [INFO] EVENT {"event": "run_start", "details": {"model": "gemini-2.5-flash-native-audio-preview-09-2025"}}
2025-10-14 16:47:58,024 [DEBUG] Model session started.
2025-10-14 16:47:58,024 [INFO] EVENT {"event": "model_session_started", "details": {}}
2025-10-14 16:47:58,025 [DEBUG] All tasks created.
2025-10-14 16:47:58,026 [INFO] EVENT {"event": "tasks_started", "details": {"tasks": ["send_text", "send_realtime", "listen_audio", "get_frames", "receive_audio", "play_audio"]}}
2025-10-14 16:47:58,027 [DEBUG] Starting send_text task.
2025-10-14 16:47:58,027 [DEBUG] Starting send_realtime task.
2025-10-14 16:47:58,029 [DEBUG] Starting listen_audio task.
2025-10-14 16:47:58,031 [DEBUG] Starting get_frames (camera) task.
2025-10-14 16:47:58,033 [DEBUG] Starting receive_audio task.
2025-10-14 16:47:58,033 [INFO] EVENT {"event": "receive_audio_started", "details": {}}
2025-10-14 16:47:58,034 [DEBUG] Starting play_audio task.
2025-10-14 16:47:58,034 [INFO] EVENT {"event": "play_audio_started", "details": {}}
2025-10-14 16:47:58,091 [DEBUG] Audio output stream opened.
2025-10-14 16:47:58,174 [DEBUG] Microphone stream opened.
2025-10-14 16:47:58,174 [INFO] EVENT {"event": "microphone_opened", "details": {"device": "MacBook Pro Microphone"}}
2025-10-14 16:47:58,249 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:47:58,249 [DEBUG] Person started speaking.
2025-10-14 16:47:58,249 [INFO] EVENT {"event": "person_speaking_state", "details": {"state": "started"}}
2025-10-14 16:47:58,249 [DEBUG] Periodic send (speaking).
2025-10-14 16:47:58,249 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 2048, "trigger": "periodic"}}
2025-10-14 16:47:58,250 [DEBUG] Sending audio data (2048 bytes).
2025-10-14 16:47:58,250 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 2048}}
2025-10-14 16:47:58,313 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:47:58,374 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:47:58,441 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:47:58,503 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:47:58,568 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:47:58,569 [DEBUG] Periodic send (speaking).
2025-10-14 16:47:58,569 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:47:58,569 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:47:58,569 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:47:58,633 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:47:58,694 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:47:58,763 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:47:58,826 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:47:58,890 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:47:58,890 [DEBUG] Periodic send (speaking).
2025-10-14 16:47:58,890 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:47:58,890 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:47:58,890 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:47:58,956 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:47:59,017 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:47:59,078 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:47:59,146 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:47:59,206 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:47:59,206 [DEBUG] Periodic send (speaking).
2025-10-14 16:47:59,206 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:47:59,206 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:47:59,206 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:47:59,270 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:47:59,336 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:47:59,403 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:47:59,462 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:47:59,527 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:47:59,527 [DEBUG] Periodic send (speaking).
2025-10-14 16:47:59,527 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:47:59,527 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:47:59,527 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:47:59,592 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:47:59,657 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:47:59,698 [DEBUG] Capturing camera frame.
2025-10-14 16:47:59,724 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:47:59,788 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:47:59,854 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:47:59,855 [DEBUG] Periodic send (speaking).
2025-10-14 16:47:59,855 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:47:59,856 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:47:59,856 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:47:59,911 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:47:59,976 [INFO] EVENT {"event": "camera_frame_captured", "details": {"size": 3971}}
2025-10-14 16:47:59,976 [DEBUG] Sending image data (3971 bytes).
2025-10-14 16:47:59,977 [INFO] EVENT {"event": "image_blob_sent", "details": {"bytes": 3971}}
2025-10-14 16:47:59,977 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:00,042 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:00,105 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:00,167 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:00,167 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:00,167 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:00,167 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:00,167 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:00,234 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:00,296 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:00,361 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:00,424 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:00,489 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:00,490 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:00,490 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:00,490 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:00,490 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:00,555 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:00,617 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:00,680 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:00,747 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:00,808 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:00,810 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:00,811 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:00,812 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:00,812 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:00,876 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:00,938 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:01,001 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:01,066 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:01,126 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:01,126 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:01,126 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:01,126 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:01,127 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:01,192 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:01,258 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:01,320 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:01,384 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:01,447 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:01,447 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:01,447 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:01,447 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:01,448 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:01,516 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:01,576 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:01,639 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:01,703 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:01,769 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:01,770 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:01,770 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:01,770 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:01,770 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:01,835 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:01,894 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:01,961 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:02,022 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:02,090 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:02,090 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:02,091 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:02,091 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:02,091 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:02,156 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:02,216 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:02,283 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:02,344 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:02,410 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:02,411 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:02,411 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:02,411 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:02,411 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:02,472 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:02,534 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:02,601 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:02,662 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:02,730 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:02,731 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:02,731 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:02,731 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:02,731 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:02,790 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:02,858 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:02,924 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:02,983 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:03,055 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:03,056 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:03,056 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:03,056 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:03,056 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:03,111 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:03,176 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:03,241 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:03,302 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:03,368 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:03,369 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:03,369 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:03,369 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:03,369 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:03,430 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:03,496 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:03,563 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:03,627 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:03,686 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:03,687 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:03,687 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:03,687 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:03,687 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:03,753 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:03,819 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:03,885 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:03,946 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:04,009 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:04,009 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:04,009 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:04,009 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:04,009 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:04,070 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:04,139 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:04,198 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:04,263 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:04,328 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:04,328 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:04,328 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:04,329 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:04,329 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:04,393 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:04,454 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:04,521 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:04,587 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:04,648 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:04,648 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:04,648 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:04,649 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:04,649 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:04,716 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:04,777 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:04,844 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:04,904 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:04,969 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:04,969 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:04,969 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:04,969 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:04,969 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:05,013 [DEBUG] Capturing camera frame.
2025-10-14 16:48:05,036 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:05,102 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:05,170 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:05,224 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:05,294 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:05,294 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:05,294 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:05,295 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:05,295 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:05,351 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:05,419 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:05,480 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:05,546 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:05,557 [DEBUG] FaceReID detections: [{'pid': 1, 'bbox': (778, 276, 1077, 674), 'served': False, 'similarity': None}]
2025-10-14 16:48:05,558 [INFO] EVENT {"event": "memory_created", "details": {"person_id": 1}}
2025-10-14 16:48:05,558 [DEBUG] Updating memory for person #1 with payload: {'total_interactions': 1, 'state': 'just_arrived', 'observations': 'First appearance at the counter'}
2025-10-14 16:48:05,558 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 1, "updates": {"total_interactions": 1, "state": "just_arrived", "observations": "First appearance at the counter"}}}
2025-10-14 16:48:05,559 [DEBUG] Saved memory cache with 1 people.
2025-10-14 16:48:05,559 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 1}}
2025-10-14 16:48:05,559 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 1, "updates": {"total_interactions": 1, "state": "just_arrived", "observations": "First appearance at the counter"}}}
2025-10-14 16:48:05,559 [DEBUG] Updating memory for person #1 with payload: {'total_interactions': 2}
2025-10-14 16:48:05,559 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 1, "updates": {"total_interactions": 2}}}
2025-10-14 16:48:05,559 [DEBUG] Saved memory cache with 1 people.
2025-10-14 16:48:05,559 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 1}}
2025-10-14 16:48:05,559 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 1, "updates": {"total_interactions": 2}}}
2025-10-14 16:48:05,579 [INFO] EVENT {"event": "camera_frame_captured", "details": {"size": 20619}}
2025-10-14 16:48:05,579 [INFO] EVENT {"event": "motion_detected", "details": {}}
2025-10-14 16:48:05,579 [DEBUG] Sending image data (20619 bytes).
2025-10-14 16:48:05,579 [INFO] EVENT {"event": "image_blob_sent", "details": {"bytes": 20619}}
2025-10-14 16:48:05,580 [DEBUG] Triggering proactive prompt: [Operator Guidance] Motion observed near the counter. Check who's approaching.
New person (ID #1) detected at the counter.
2025-10-14 16:48:05,580 [INFO] EVENT {"event": "proactive_prompt", "details": {"prompt": "[Operator Guidance] Motion observed near the counter. Check who's approaching.\nNew person (ID #1) detected at the counter."}}
2025-10-14 16:48:05,580 [DEBUG] Sending client content to model (proactive): {"parts": [{"text": "[Operator Guidance] Motion observed near the counter. Check who's approaching.\nNew person (ID #1) detected at the counter."}]}
2025-10-14 16:48:05,580 [INFO] EVENT {"event": "llm_text_outbound", "details": {"source": "proactive_prompt", "payload": {"parts": [{"text": "<truncated>"}]}}}
2025-10-14 16:48:05,609 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:05,610 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:05,610 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:05,610 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:05,610 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:05,672 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:05,734 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:05,801 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:05,864 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:05,931 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:05,932 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:05,932 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:05,932 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:05,932 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:05,993 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:06,054 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:06,122 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:06,187 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:06,246 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:06,246 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:06,246 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:06,247 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:06,247 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:06,313 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:06,378 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:06,440 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:06,508 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:06,567 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:06,567 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:06,567 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:06,567 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:06,567 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:06,631 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:06,699 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:06,759 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:06,825 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:06,886 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:06,886 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:06,886 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:06,887 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:06,887 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:06,953 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:07,020 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:07,082 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:07,146 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:07,199 [DEBUG] Received audio chunk: 46080 bytes
2025-10-14 16:48:07,199 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 46080}}
2025-10-14 16:48:07,199 [DEBUG] AI started speaking. Recording is paused.
2025-10-14 16:48:07,199 [INFO] EVENT {"event": "ai_speaking_state", "details": {"state": "started"}}
2025-10-14 16:48:07,209 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:07,209 [DEBUG] Dropping buffered audio while AI is speaking.
2025-10-14 16:48:07,209 [INFO] EVENT {"event": "audio_dropped", "details": {"reason": "ai_speaking", "bytes": 8192}}
2025-10-14 16:48:07,213 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:07,213 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:07,214 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:07,215 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:07,216 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:07,216 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:07,253 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:07,253 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:07,254 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:07,254 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:07,254 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:07,254 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:07,255 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:07,255 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:07,255 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:07,255 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:07,256 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:07,256 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:07,257 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:07,257 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:07,257 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:07,257 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:07,272 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:07,305 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:07,305 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:07,305 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:07,306 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:07,306 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:07,306 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:07,307 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:07,307 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:07,307 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:07,307 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:07,308 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:07,308 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:07,313 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:07,313 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:07,333 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:07,333 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:07,333 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:07,333 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:07,337 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:07,340 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:07,342 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:07,346 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:07,347 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:07,357 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:07,357 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:07,364 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:07,364 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:07,373 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:07,373 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:07,382 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:07,382 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:07,399 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:07,399 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:07,399 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:07,399 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:07,400 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:07,406 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:07,406 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:07,414 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:07,415 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:07,423 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:07,423 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:07,432 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:07,433 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:07,463 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:07,526 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:07,569 [DEBUG] Model called tool: Update_Person_Memory with ID: function-call-18281754352837759383
2025-10-14 16:48:07,569 [INFO] EVENT {"event": "model_tool_call", "details": {"name": "Update_Person_Memory", "call_id": "function-call-18281754352837759383", "args": {"state": "Offered sample", "person_id": 1, "observation": "Person approached the counter and was offered a sample.", "conversation": "User approached counter."}}}
2025-10-14 16:48:07,569 [DEBUG] Update_Person_Memory tool called with args: {'state': 'Offered sample', 'person_id': 1, 'observation': 'Person approached the counter and was offered a sample.', 'conversation': 'User approached counter.'}
2025-10-14 16:48:07,569 [INFO] EVENT {"event": "memory_tool_invocation", "details": {"name": "Update_Person_Memory", "args": {"state": "Offered sample", "person_id": 1, "observation": "Person approached the counter and was offered a sample.", "conversation": "User approached counter."}}}
2025-10-14 16:48:07,569 [DEBUG] Update_Person_Memory missing fields for person #1: ['preferences']
2025-10-14 16:48:07,570 [INFO] EVENT {"event": "memory_tool_missing_fields", "details": {"person_id": 1, "missing_fields": ["preferences"]}}
2025-10-14 16:48:07,570 [DEBUG] Updating memory for person #1 with payload: {'observations': 'Person approached the counter and was offered a sample.', 'state': 'Offered sample', 'conversation_history': 'User approached counter.'}
2025-10-14 16:48:07,570 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 1, "updates": {"observations": "Person approached the counter and was offered a sample.", "state": "Offered sample", "conversation_history": "User approached counter."}}}
2025-10-14 16:48:07,570 [DEBUG] Saved memory cache with 1 people.
2025-10-14 16:48:07,570 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 1}}
2025-10-14 16:48:07,570 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 1, "updates": {"observations": "Person approached the counter and was offered a sample.", "state": "Offered sample", "conversation_history": "User approached counter."}}}
2025-10-14 16:48:07,570 [DEBUG] Updated memory for person #1: {'observations': 'Person approached the counter and was offered a sample.', 'state': 'Offered sample', 'conversation_history': 'User approached counter.'}
2025-10-14 16:48:07,570 [INFO] EVENT {"event": "tool_response_sent", "details": {"tool": "Update_Person_Memory", "response": {"status": "Memory updated", "person_id": 1}}}
2025-10-14 16:48:07,595 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:07,615 [DEBUG] Capturing camera frame.
2025-10-14 16:48:07,658 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:07,721 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:07,784 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:07,849 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:07,915 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:07,974 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:07,994 [DEBUG] FaceReID detections: [{'pid': 1, 'bbox': (795, 257, 1090, 641), 'served': False, 'similarity': 0.9088581391515115}]
2025-10-14 16:48:07,994 [DEBUG] Updating memory for person #1 with payload: {'total_interactions': 3}
2025-10-14 16:48:07,994 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 1, "updates": {"total_interactions": 3}}}
2025-10-14 16:48:07,995 [DEBUG] Saved memory cache with 1 people.
2025-10-14 16:48:07,995 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 1}}
2025-10-14 16:48:07,995 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 1, "updates": {"total_interactions": 3}}}
2025-10-14 16:48:08,012 [INFO] EVENT {"event": "camera_frame_captured", "details": {"size": 20675}}
2025-10-14 16:48:08,012 [INFO] EVENT {"event": "motion_detected", "details": {}}
2025-10-14 16:48:08,013 [DEBUG] Sending image data (20675 bytes).
2025-10-14 16:48:08,013 [INFO] EVENT {"event": "image_blob_sent", "details": {"bytes": 20675}}
2025-10-14 16:48:08,042 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:08,260 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:08,319 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:08,370 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:08,421 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:08,472 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:08,524 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:08,574 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:08,626 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:08,677 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:08,728 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:08,780 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:08,831 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:08,882 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:08,934 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:09,001 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:09,064 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:09,128 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:09,192 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:09,255 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:09,319 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:09,382 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:09,451 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:09,521 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:09,581 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:09,638 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:09,702 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:09,748 [DEBUG] AI stopped speaking. Recording will resume after 0.5s delay.
2025-10-14 16:48:09,748 [INFO] EVENT {"event": "ai_speaking_state", "details": {"state": "stopped", "delay": 0.5}}
2025-10-14 16:48:09,771 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:09,834 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:09,898 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:09,961 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:10,024 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:10,060 [DEBUG] Capturing camera frame.
2025-10-14 16:48:10,088 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:10,152 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:10,218 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:10,280 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:10,280 [DEBUG] Person started speaking.
2025-10-14 16:48:10,280 [INFO] EVENT {"event": "person_speaking_state", "details": {"state": "started"}}
2025-10-14 16:48:10,280 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:10,280 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 2048, "trigger": "periodic"}}
2025-10-14 16:48:10,280 [DEBUG] Sending audio data (2048 bytes).
2025-10-14 16:48:10,280 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 2048}}
2025-10-14 16:48:10,343 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:10,402 [DEBUG] FaceReID detections: [{'pid': 1, 'bbox': (707, 227, 1035, 675), 'served': False, 'similarity': 0.841078496306278}]
2025-10-14 16:48:10,403 [DEBUG] Updating memory for person #1 with payload: {'total_interactions': 4}
2025-10-14 16:48:10,403 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 1, "updates": {"total_interactions": 4}}}
2025-10-14 16:48:10,403 [DEBUG] Saved memory cache with 1 people.
2025-10-14 16:48:10,403 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 1}}
2025-10-14 16:48:10,403 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 1, "updates": {"total_interactions": 4}}}
2025-10-14 16:48:10,410 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:10,421 [INFO] EVENT {"event": "camera_frame_captured", "details": {"size": 20377}}
2025-10-14 16:48:10,422 [INFO] EVENT {"event": "motion_detected", "details": {}}
2025-10-14 16:48:10,422 [DEBUG] Sending image data (20377 bytes).
2025-10-14 16:48:10,422 [INFO] EVENT {"event": "image_blob_sent", "details": {"bytes": 20377}}
2025-10-14 16:48:10,476 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:10,536 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:10,602 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:10,603 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:10,603 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:10,603 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:10,603 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:10,664 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:10,730 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:10,791 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:10,856 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:10,919 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:10,920 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:10,920 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:10,920 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:10,920 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:10,986 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:11,047 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:11,113 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:11,177 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:11,238 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:11,239 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:11,239 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:11,239 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:11,239 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:11,305 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:11,366 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:11,432 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:11,497 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:11,562 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:11,563 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:11,563 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:11,563 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:11,564 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:11,623 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:11,690 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:11,751 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:11,814 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:11,880 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:11,880 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:11,880 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:11,881 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:11,881 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:11,942 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:12,008 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:12,075 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:12,138 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:12,202 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:12,202 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:12,202 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:12,203 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:12,203 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:12,262 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:12,328 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:12,395 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:12,456 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:12,462 [DEBUG] Capturing camera frame.
2025-10-14 16:48:12,520 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:12,521 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:12,521 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:12,521 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:12,521 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:12,584 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:12,649 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:12,712 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:12,712 [DEBUG] FaceReID detections: [{'pid': 1, 'bbox': (774, 168, 1105, 623), 'served': False, 'similarity': 0.8803429718611357}]
2025-10-14 16:48:12,713 [DEBUG] Updating memory for person #1 with payload: {'total_interactions': 5}
2025-10-14 16:48:12,713 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 1, "updates": {"total_interactions": 5}}}
2025-10-14 16:48:12,713 [DEBUG] Saved memory cache with 1 people.
2025-10-14 16:48:12,713 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 1}}
2025-10-14 16:48:12,713 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 1, "updates": {"total_interactions": 5}}}
2025-10-14 16:48:12,730 [INFO] EVENT {"event": "camera_frame_captured", "details": {"size": 20918}}
2025-10-14 16:48:12,730 [INFO] EVENT {"event": "motion_detected", "details": {}}
2025-10-14 16:48:12,730 [DEBUG] Sending image data (20918 bytes).
2025-10-14 16:48:12,730 [INFO] EVENT {"event": "image_blob_sent", "details": {"bytes": 20918}}
2025-10-14 16:48:12,731 [DEBUG] Triggering proactive prompt: [Operator Guidance] Motion observed near the counter. Check who's approaching.
[Person Memory - ID #1]
Last seen: just now
Total interactions: 4
Served samples: 0
Current state: Offered sample
Recent interactions:
  - [16:48:07] User approached counter.
Observations:
  - [16:48:05] First appearance at the counter
  - [16:48:07] Person approached the counter and was offered a sample.

2025-10-14 16:48:12,731 [INFO] EVENT {"event": "proactive_prompt", "details": {"prompt": "[Operator Guidance] Motion observed near the counter. Check who's approaching.\n[Person Memory - ID #1]\nLast seen: just now\nTotal interactions: 4\nServed samples: 0\nCurrent state: Offered sample\nRecent interactions:\n  - [16:48:07] User approached counter.\nObservations:\n  - [16:48:05] First appearance at the counter\n  - [16:48:07] Person approached the counter and was offered a sample.\n"}}
2025-10-14 16:48:12,731 [DEBUG] Sending client content to model (proactive): {"parts": [{"text": "[Operator Guidance] Motion observed near the counter. Check who's approaching.\n[Person Memory - ID #1]\nLast seen: just now\nTotal interactions: 4\nServed samples: 0\nCurrent state: Offered sample\nRecent interactions:\n  - [16:48:07] User approached counter.\nObservations:\n  - [16:48:05] First appearance at the counter\n  - [16:48:07] Person approached the counter and was offered a sample.\n"}]}
2025-10-14 16:48:12,731 [INFO] EVENT {"event": "llm_text_outbound", "details": {"source": "proactive_prompt", "payload": {"parts": [{"text": "<truncated>"}]}}}
2025-10-14 16:48:12,777 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:12,840 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:12,840 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:12,840 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:12,840 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:12,840 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:12,902 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:12,967 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:12,994 [DEBUG] Received audio chunk: 46080 bytes
2025-10-14 16:48:12,994 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 46080}}
2025-10-14 16:48:12,995 [DEBUG] AI started speaking. Recording is paused.
2025-10-14 16:48:12,995 [INFO] EVENT {"event": "ai_speaking_state", "details": {"state": "started"}}
2025-10-14 16:48:12,995 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:12,995 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:12,995 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:12,995 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,015 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,015 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,015 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,015 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,015 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,015 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,016 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,016 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,024 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,024 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,034 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:13,034 [DEBUG] Dropping buffered audio while AI is speaking.
2025-10-14 16:48:13,034 [INFO] EVENT {"event": "audio_dropped", "details": {"reason": "ai_speaking", "bytes": 4096}}
2025-10-14 16:48:13,044 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,045 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,045 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,045 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,070 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,071 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,071 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,071 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,071 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,071 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,077 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,077 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,083 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,083 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,093 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,093 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,097 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:13,108 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,109 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,109 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,109 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,125 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,125 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,125 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,125 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,134 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,134 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,142 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,142 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,159 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:13,223 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:13,287 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:13,350 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:13,419 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:13,483 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:13,545 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:13,576 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,576 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,577 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,577 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,577 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,577 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,582 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,582 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,590 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,591 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,606 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:13,607 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,607 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,608 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,608 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,615 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,615 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,632 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,633 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,634 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,634 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,651 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,652 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,653 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,653 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,661 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,662 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,668 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,668 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,674 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:13,674 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,675 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,693 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,694 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,694 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,694 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,708 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,709 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,710 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,710 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,717 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,717 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,726 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,726 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,734 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,734 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,737 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:13,743 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,743 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,759 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,759 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,760 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,760 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,768 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,768 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,777 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,777 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,785 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,785 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,794 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,794 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,799 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:13,813 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,813 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,813 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,813 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,828 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:13,828 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:13,841 [DEBUG] Model called tool: Give_Sample with ID: function-call-8328112717702433416
2025-10-14 16:48:13,841 [INFO] EVENT {"event": "model_tool_call", "details": {"name": "Give_Sample", "call_id": "function-call-8328112717702433416", "args": {}}}
2025-10-14 16:48:13,841 [DEBUG] Executing tool: Give_Sample for person #1
2025-10-14 16:48:13,841 [INFO] EVENT {"event": "tool_called", "details": {"tool": "Give_Sample", "focus_pid": 1}}
2025-10-14 16:48:13,841 [DEBUG] Updating memory for person #1 with payload: {'served_count': 1, 'last_served': 1760474893.841563, 'state': 'served'}
2025-10-14 16:48:13,841 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 1, "updates": {"served_count": 1, "last_served": 1760474893.841563, "state": "served"}}}
2025-10-14 16:48:13,841 [DEBUG] Saved memory cache with 1 people.
2025-10-14 16:48:13,842 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 1}}
2025-10-14 16:48:13,842 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 1, "updates": {"served_count": 1, "last_served": 1760474893.841563, "state": "served"}}}
2025-10-14 16:48:13,842 [INFO] EVENT {"event": "sample_served", "details": {"person_id": 1}}
2025-10-14 16:48:13,842 [DEBUG] Marked person #1 as served.
2025-10-14 16:48:13,842 [INFO] EVENT {"event": "person_marked_served", "details": {"person_id": 1}}
2025-10-14 16:48:13,842 [DEBUG] Sending tool response for Give_Sample: {'status': 'Sample delivered successfully', 'item': 'nut bar', 'name': 'done', 'recipient_id': 1}
2025-10-14 16:48:13,842 [INFO] EVENT {"event": "tool_response_sent", "details": {"tool": "Give_Sample", "response": {"status": "Sample delivered successfully", "item": "nut bar", "name": "done", "recipient_id": 1}}}
2025-10-14 16:48:13,868 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:13,875 [DEBUG] Model called tool: Update_Person_Memory with ID: function-call-14426261035300519054
2025-10-14 16:48:13,875 [INFO] EVENT {"event": "model_tool_call", "details": {"name": "Update_Person_Memory", "call_id": "function-call-14426261035300519054", "args": {"observation": "Person took a nut bar sample.", "person_id": 1, "state": "Received sample", "conversation": "User accepted sample offer and took one."}}}
2025-10-14 16:48:13,875 [DEBUG] Update_Person_Memory tool called with args: {'observation': 'Person took a nut bar sample.', 'person_id': 1, 'state': 'Received sample', 'conversation': 'User accepted sample offer and took one.'}
2025-10-14 16:48:13,876 [INFO] EVENT {"event": "memory_tool_invocation", "details": {"name": "Update_Person_Memory", "args": {"observation": "Person took a nut bar sample.", "person_id": 1, "state": "Received sample", "conversation": "User accepted sample offer and took one."}}}
2025-10-14 16:48:13,876 [DEBUG] Update_Person_Memory missing fields for person #1: ['preferences']
2025-10-14 16:48:13,876 [INFO] EVENT {"event": "memory_tool_missing_fields", "details": {"person_id": 1, "missing_fields": ["preferences"]}}
2025-10-14 16:48:13,876 [DEBUG] Updating memory for person #1 with payload: {'observations': 'Person took a nut bar sample.', 'state': 'Received sample', 'conversation_history': 'User accepted sample offer and took one.'}
2025-10-14 16:48:13,876 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 1, "updates": {"observations": "Person took a nut bar sample.", "state": "Received sample", "conversation_history": "User accepted sample offer and took one."}}}
2025-10-14 16:48:13,877 [DEBUG] Saved memory cache with 1 people.
2025-10-14 16:48:13,878 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 1}}
2025-10-14 16:48:13,878 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 1, "updates": {"observations": "Person took a nut bar sample.", "state": "Received sample", "conversation_history": "User accepted sample offer and took one."}}}
2025-10-14 16:48:13,879 [DEBUG] Updated memory for person #1: {'observations': 'Person took a nut bar sample.', 'state': 'Received sample', 'conversation_history': 'User accepted sample offer and took one.'}
2025-10-14 16:48:13,879 [INFO] EVENT {"event": "tool_response_sent", "details": {"tool": "Update_Person_Memory", "response": {"status": "Memory updated", "person_id": 1}}}
2025-10-14 16:48:13,929 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:13,993 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:14,060 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:14,132 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:14,184 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:14,247 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:14,316 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:14,380 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:14,442 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:14,506 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:14,568 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:14,632 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:14,695 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:14,759 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:14,763 [DEBUG] Capturing camera frame.
2025-10-14 16:48:14,827 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:14,891 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:14,955 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:15,017 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:15,061 [DEBUG] FaceReID detections: [{'pid': 1, 'bbox': (636, 32, 889, 361), 'served': True, 'similarity': 0.7795044523607922}]
2025-10-14 16:48:15,061 [DEBUG] Updating memory for person #1 with payload: {'total_interactions': 6}
2025-10-14 16:48:15,061 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 1, "updates": {"total_interactions": 6}}}
2025-10-14 16:48:15,062 [DEBUG] Saved memory cache with 1 people.
2025-10-14 16:48:15,062 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 1}}
2025-10-14 16:48:15,062 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 1, "updates": {"total_interactions": 6}}}
2025-10-14 16:48:15,080 [INFO] EVENT {"event": "camera_frame_captured", "details": {"size": 20766}}
2025-10-14 16:48:15,080 [INFO] EVENT {"event": "motion_detected", "details": {}}
2025-10-14 16:48:15,081 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:15,081 [DEBUG] Sending image data (20766 bytes).
2025-10-14 16:48:15,081 [INFO] EVENT {"event": "image_blob_sent", "details": {"bytes": 20766}}
2025-10-14 16:48:15,144 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:15,207 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:15,275 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:15,338 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:15,401 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:15,464 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:15,528 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:15,592 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:15,655 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:15,721 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:15,782 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:15,851 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:15,914 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:15,977 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:16,041 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:16,104 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:16,167 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:16,230 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:16,233 [DEBUG] AI stopped speaking. Recording will resume after 0.5s delay.
2025-10-14 16:48:16,233 [INFO] EVENT {"event": "ai_speaking_state", "details": {"state": "stopped", "delay": 0.5}}
2025-10-14 16:48:16,301 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:16,362 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:16,426 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:16,488 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:16,552 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:16,616 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:16,683 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:16,746 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:16,747 [DEBUG] Periodic send (ambient).
2025-10-14 16:48:16,747 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 2048, "trigger": "periodic"}}
2025-10-14 16:48:16,747 [DEBUG] Sending audio data (2048 bytes).
2025-10-14 16:48:16,747 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 2048}}
2025-10-14 16:48:16,808 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:16,875 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:16,875 [DEBUG] Person started speaking.
2025-10-14 16:48:16,875 [INFO] EVENT {"event": "person_speaking_state", "details": {"state": "started"}}
2025-10-14 16:48:16,937 [DEBUG] Model called tool: Update_Person_Memory with ID: function-call-17947576017769060193
2025-10-14 16:48:16,937 [INFO] EVENT {"event": "model_tool_call", "details": {"name": "Update_Person_Memory", "call_id": "function-call-17947576017769060193", "args": {"state": "Received sample", "served_samples": 1, "observation": "Person took a sample.", "person_id": 1, "conversation": "User accepted sample offer and took a sample."}}}
2025-10-14 16:48:16,937 [DEBUG] Update_Person_Memory tool called with args: {'state': 'Received sample', 'served_samples': 1, 'observation': 'Person took a sample.', 'person_id': 1, 'conversation': 'User accepted sample offer and took a sample.'}
2025-10-14 16:48:16,937 [INFO] EVENT {"event": "memory_tool_invocation", "details": {"name": "Update_Person_Memory", "args": {"state": "Received sample", "served_samples": 1, "observation": "Person took a sample.", "person_id": 1, "conversation": "User accepted sample offer and took a sample."}}}
2025-10-14 16:48:16,937 [DEBUG] Update_Person_Memory missing fields for person #1: ['preferences']
2025-10-14 16:48:16,937 [INFO] EVENT {"event": "memory_tool_missing_fields", "details": {"person_id": 1, "missing_fields": ["preferences"]}}
2025-10-14 16:48:16,937 [DEBUG] Updating memory for person #1 with payload: {'observations': 'Person took a sample.', 'state': 'Received sample', 'conversation_history': 'User accepted sample offer and took a sample.'}
2025-10-14 16:48:16,937 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 1, "updates": {"observations": "Person took a sample.", "state": "Received sample", "conversation_history": "User accepted sample offer and took a sample."}}}
2025-10-14 16:48:16,937 [DEBUG] Saved memory cache with 1 people.
2025-10-14 16:48:16,937 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 1}}
2025-10-14 16:48:16,938 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 1, "updates": {"observations": "Person took a sample.", "state": "Received sample", "conversation_history": "User accepted sample offer and took a sample."}}}
2025-10-14 16:48:16,938 [DEBUG] Updated memory for person #1: {'observations': 'Person took a sample.', 'state': 'Received sample', 'conversation_history': 'User accepted sample offer and took a sample.'}
2025-10-14 16:48:16,938 [INFO] EVENT {"event": "tool_response_sent", "details": {"tool": "Update_Person_Memory", "response": {"status": "Memory updated", "person_id": 1}}}
2025-10-14 16:48:16,939 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:16,998 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:17,065 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:17,065 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:17,065 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:17,066 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:17,066 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:17,121 [DEBUG] Capturing camera frame.
2025-10-14 16:48:17,126 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:17,191 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:17,258 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:17,321 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:17,375 [DEBUG] FaceReID detections: [{'pid': 1, 'bbox': (852, 93, 1048, 354), 'served': True, 'similarity': 0.7559109717712302}]
2025-10-14 16:48:17,376 [DEBUG] Updating memory for person #1 with payload: {'total_interactions': 7}
2025-10-14 16:48:17,376 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 1, "updates": {"total_interactions": 7}}}
2025-10-14 16:48:17,376 [DEBUG] Saved memory cache with 1 people.
2025-10-14 16:48:17,376 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 1}}
2025-10-14 16:48:17,376 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 1, "updates": {"total_interactions": 7}}}
2025-10-14 16:48:17,382 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:17,382 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:17,382 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:17,383 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:17,383 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:17,394 [INFO] EVENT {"event": "camera_frame_captured", "details": {"size": 22110}}
2025-10-14 16:48:17,394 [INFO] EVENT {"event": "motion_detected", "details": {}}
2025-10-14 16:48:17,395 [DEBUG] Sending image data (22110 bytes).
2025-10-14 16:48:17,395 [INFO] EVENT {"event": "image_blob_sent", "details": {"bytes": 22110}}
2025-10-14 16:48:17,548 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:17,560 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:17,589 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:17,640 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:17,705 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:17,705 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:17,706 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:17,706 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:17,706 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:17,769 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:17,830 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:17,896 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:17,964 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:18,026 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:18,026 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:18,026 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:18,026 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:18,026 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:18,090 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:18,150 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:18,217 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:18,279 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:18,345 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:18,345 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:18,345 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:18,345 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:18,345 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:18,408 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:18,475 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:18,534 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:18,600 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:18,663 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:18,663 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:18,663 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:18,664 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:18,664 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:18,729 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:18,795 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:18,856 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:18,924 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:18,984 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:18,984 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:18,984 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:18,984 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:18,984 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:19,050 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:19,115 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:19,176 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:19,238 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:19,305 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:19,305 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:19,306 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:19,306 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:19,306 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:19,371 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:19,408 [DEBUG] Capturing camera frame.
2025-10-14 16:48:19,432 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:19,499 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:19,556 [INFO] EVENT {"event": "camera_frame_captured", "details": {"size": 22138}}
2025-10-14 16:48:19,556 [INFO] EVENT {"event": "motion_detected", "details": {}}
2025-10-14 16:48:19,556 [DEBUG] Sending image data (22138 bytes).
2025-10-14 16:48:19,556 [INFO] EVENT {"event": "image_blob_sent", "details": {"bytes": 22138}}
2025-10-14 16:48:19,557 [DEBUG] Triggering proactive prompt: [Operator Guidance] Motion observed near the counter. Check who's approaching.
2025-10-14 16:48:19,557 [INFO] EVENT {"event": "proactive_prompt", "details": {"prompt": "[Operator Guidance] Motion observed near the counter. Check who's approaching."}}
2025-10-14 16:48:19,557 [DEBUG] Sending client content to model (proactive): {"parts": [{"text": "[Operator Guidance] Motion observed near the counter. Check who's approaching."}]}
2025-10-14 16:48:19,557 [INFO] EVENT {"event": "llm_text_outbound", "details": {"source": "proactive_prompt", "payload": {"parts": [{"text": "<truncated>"}]}}}
2025-10-14 16:48:19,560 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:19,627 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:19,627 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:19,627 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:19,627 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:19,628 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:19,689 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:19,755 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:19,819 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:19,879 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:19,946 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:19,946 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:19,946 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:19,946 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:19,947 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:20,008 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:20,071 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:20,145 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:20,199 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:20,264 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:20,265 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:20,265 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:20,265 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:20,266 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:20,331 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:20,392 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:20,454 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:20,522 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:20,583 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:20,583 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:20,583 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:20,584 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:20,584 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:20,648 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:20,717 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:20,781 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:20,842 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:20,907 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:20,908 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:20,908 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:20,908 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:20,908 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:20,969 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:21,035 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:21,095 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:21,161 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:21,223 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:21,224 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:21,224 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:21,224 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:21,224 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:21,289 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:21,357 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:21,417 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:21,481 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:21,545 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:21,546 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:21,546 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:21,546 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:21,546 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:21,605 [DEBUG] Capturing camera frame.
2025-10-14 16:48:21,608 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:21,676 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:21,736 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:21,784 [INFO] EVENT {"event": "camera_frame_captured", "details": {"size": 21226}}
2025-10-14 16:48:21,784 [INFO] EVENT {"event": "motion_detected", "details": {}}
2025-10-14 16:48:21,785 [DEBUG] Sending image data (21226 bytes).
2025-10-14 16:48:21,785 [INFO] EVENT {"event": "image_blob_sent", "details": {"bytes": 21226}}
2025-10-14 16:48:21,803 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:21,864 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:21,865 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:21,865 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:21,865 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:21,865 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:21,926 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:21,993 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:22,054 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:22,121 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:22,188 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:22,188 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:22,188 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:22,188 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:22,188 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:22,251 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:22,312 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:22,379 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:22,440 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:22,506 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:22,506 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:22,507 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:22,507 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:22,507 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:22,568 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:22,636 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:22,697 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:22,758 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:22,826 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:22,826 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:22,826 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:22,827 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:22,827 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:22,888 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:22,952 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:23,017 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:23,082 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:23,147 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:23,147 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:23,147 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:23,148 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:23,148 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:23,208 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:23,273 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:23,340 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:23,399 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:23,468 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:23,468 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:23,469 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:23,469 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:23,469 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:23,529 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:23,595 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:23,656 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:23,723 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:23,785 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:23,785 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:23,785 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:23,786 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:23,786 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:23,824 [DEBUG] Capturing camera frame.
2025-10-14 16:48:23,852 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:23,912 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:23,976 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:23,994 [INFO] EVENT {"event": "camera_frame_captured", "details": {"size": 21150}}
2025-10-14 16:48:23,994 [DEBUG] Sending image data (21150 bytes).
2025-10-14 16:48:23,994 [INFO] EVENT {"event": "image_blob_sent", "details": {"bytes": 21150}}
2025-10-14 16:48:24,042 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:24,108 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:24,108 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:24,108 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:24,108 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:24,108 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:24,168 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:24,232 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:24,298 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:24,360 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:24,423 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:24,423 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:24,423 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:24,423 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:24,424 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:24,487 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:24,553 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:24,614 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:24,679 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:24,747 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:24,751 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:24,751 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:24,751 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:24,752 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:24,809 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:24,873 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:24,948 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:25,011 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:25,077 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:25,077 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:25,077 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:25,077 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:25,079 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:25,131 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:25,196 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:25,260 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:25,322 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:25,387 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:25,388 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:25,388 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:25,388 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:25,388 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:25,446 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:25,512 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:25,575 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:25,640 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:25,704 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:25,705 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:25,705 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:25,705 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:25,705 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:25,769 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:25,831 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:25,897 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:25,965 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:26,017 [DEBUG] Capturing camera frame.
2025-10-14 16:48:26,023 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:26,023 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:26,023 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:26,024 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:26,024 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:26,090 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:26,151 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:26,214 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:26,284 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:26,342 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:26,343 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:26,343 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:26,343 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:26,343 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:26,370 [DEBUG] FaceReID detections: [{'pid': 2, 'bbox': (651, 19, 885, 343), 'served': False, 'similarity': 0.04296991613937584}]
2025-10-14 16:48:26,370 [INFO] EVENT {"event": "memory_created", "details": {"person_id": 2}}
2025-10-14 16:48:26,370 [DEBUG] Updating memory for person #2 with payload: {'total_interactions': 1, 'state': 'just_arrived', 'observations': 'First appearance at the counter'}
2025-10-14 16:48:26,370 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 2, "updates": {"total_interactions": 1, "state": "just_arrived", "observations": "First appearance at the counter"}}}
2025-10-14 16:48:26,370 [DEBUG] Saved memory cache with 2 people.
2025-10-14 16:48:26,370 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 2}}
2025-10-14 16:48:26,370 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 2, "updates": {"total_interactions": 1, "state": "just_arrived", "observations": "First appearance at the counter"}}}
2025-10-14 16:48:26,371 [DEBUG] Updating memory for person #2 with payload: {'total_interactions': 2}
2025-10-14 16:48:26,371 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 2, "updates": {"total_interactions": 2}}}
2025-10-14 16:48:26,371 [DEBUG] Saved memory cache with 2 people.
2025-10-14 16:48:26,371 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 2}}
2025-10-14 16:48:26,371 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 2, "updates": {"total_interactions": 2}}}
2025-10-14 16:48:26,388 [INFO] EVENT {"event": "camera_frame_captured", "details": {"size": 18761}}
2025-10-14 16:48:26,388 [INFO] EVENT {"event": "motion_detected", "details": {}}
2025-10-14 16:48:26,388 [DEBUG] Sending image data (18761 bytes).
2025-10-14 16:48:26,388 [INFO] EVENT {"event": "image_blob_sent", "details": {"bytes": 18761}}
2025-10-14 16:48:26,389 [DEBUG] Triggering proactive prompt: [Operator Guidance] Motion observed near the counter. Check who's approaching.
New person (ID #2) detected at the counter.
2025-10-14 16:48:26,389 [INFO] EVENT {"event": "proactive_prompt", "details": {"prompt": "[Operator Guidance] Motion observed near the counter. Check who's approaching.\nNew person (ID #2) detected at the counter."}}
2025-10-14 16:48:26,389 [DEBUG] Sending client content to model (proactive): {"parts": [{"text": "[Operator Guidance] Motion observed near the counter. Check who's approaching.\nNew person (ID #2) detected at the counter."}]}
2025-10-14 16:48:26,389 [INFO] EVENT {"event": "llm_text_outbound", "details": {"source": "proactive_prompt", "payload": {"parts": [{"text": "<truncated>"}]}}}
2025-10-14 16:48:26,411 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:26,473 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:26,540 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:26,600 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:26,663 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:26,663 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:26,663 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:26,663 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:26,663 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:26,728 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:26,790 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:26,854 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:26,924 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:26,987 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:26,987 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:26,987 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:26,987 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:26,987 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:27,047 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:27,114 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:27,176 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:27,242 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:27,305 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:27,305 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:27,305 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:27,305 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:27,305 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:27,369 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:27,434 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:27,496 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:27,561 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:27,626 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:27,627 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:27,627 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:27,628 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:27,628 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:27,687 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:27,751 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:27,779 [DEBUG] Received audio chunk: 46080 bytes
2025-10-14 16:48:27,779 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 46080}}
2025-10-14 16:48:27,779 [DEBUG] AI started speaking. Recording is paused.
2025-10-14 16:48:27,779 [INFO] EVENT {"event": "ai_speaking_state", "details": {"state": "started"}}
2025-10-14 16:48:27,780 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:27,780 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:27,780 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:27,780 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:27,798 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:27,798 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:27,799 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:27,799 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:27,801 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:27,801 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:27,802 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:27,802 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:27,802 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:27,802 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:27,802 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:27,802 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:27,816 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:27,816 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:27,816 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:27,816 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:27,818 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:27,819 [DEBUG] Dropping buffered audio while AI is speaking.
2025-10-14 16:48:27,819 [INFO] EVENT {"event": "audio_dropped", "details": {"reason": "ai_speaking", "bytes": 4096}}
2025-10-14 16:48:27,850 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:27,850 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:27,850 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:27,850 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:27,850 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:27,850 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:27,851 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:27,851 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:27,882 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:27,885 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:27,885 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:27,886 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:27,886 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:27,886 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:27,886 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:27,886 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:27,887 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:27,918 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:27,918 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:27,918 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:27,918 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:27,919 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:27,919 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:27,919 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:27,919 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:27,943 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:27,943 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:27,943 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:27,943 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:27,945 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:27,945 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:27,945 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:27,954 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:27,954 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:27,963 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:27,963 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:27,969 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:27,969 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:27,984 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:27,984 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:28,008 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:28,071 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:28,135 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:28,204 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:28,249 [DEBUG] Model called tool: Update_Person_Memory with ID: function-call-5115617711204771875
2025-10-14 16:48:28,249 [INFO] EVENT {"event": "model_tool_call", "details": {"name": "Update_Person_Memory", "call_id": "function-call-5115617711204771875", "args": {"person_id": 2, "conversation": "User approached counter.", "observation": "Person approached the counter and was offered a sample.", "state": "Offered sample"}}}
2025-10-14 16:48:28,250 [DEBUG] Update_Person_Memory tool called with args: {'person_id': 2, 'conversation': 'User approached counter.', 'observation': 'Person approached the counter and was offered a sample.', 'state': 'Offered sample'}
2025-10-14 16:48:28,250 [INFO] EVENT {"event": "memory_tool_invocation", "details": {"name": "Update_Person_Memory", "args": {"person_id": 2, "conversation": "User approached counter.", "observation": "Person approached the counter and was offered a sample.", "state": "Offered sample"}}}
2025-10-14 16:48:28,250 [DEBUG] Update_Person_Memory missing fields for person #2: ['preferences']
2025-10-14 16:48:28,250 [INFO] EVENT {"event": "memory_tool_missing_fields", "details": {"person_id": 2, "missing_fields": ["preferences"]}}
2025-10-14 16:48:28,250 [DEBUG] Updating memory for person #2 with payload: {'observations': 'Person approached the counter and was offered a sample.', 'state': 'Offered sample', 'conversation_history': 'User approached counter.'}
2025-10-14 16:48:28,250 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 2, "updates": {"observations": "Person approached the counter and was offered a sample.", "state": "Offered sample", "conversation_history": "User approached counter."}}}
2025-10-14 16:48:28,250 [DEBUG] Saved memory cache with 2 people.
2025-10-14 16:48:28,250 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 2}}
2025-10-14 16:48:28,250 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 2, "updates": {"observations": "Person approached the counter and was offered a sample.", "state": "Offered sample", "conversation_history": "User approached counter."}}}
2025-10-14 16:48:28,250 [DEBUG] Updated memory for person #2: {'observations': 'Person approached the counter and was offered a sample.', 'state': 'Offered sample', 'conversation_history': 'User approached counter.'}
2025-10-14 16:48:28,250 [INFO] EVENT {"event": "tool_response_sent", "details": {"tool": "Update_Person_Memory", "response": {"status": "Memory updated", "person_id": 2}}}
2025-10-14 16:48:28,267 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:28,329 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:28,392 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:28,419 [DEBUG] Capturing camera frame.
2025-10-14 16:48:28,457 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:28,520 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:28,586 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:28,650 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:28,655 [DEBUG] FaceReID detections: [{'pid': 2, 'bbox': (822, 0, 1259, 590), 'served': False, 'similarity': 0.632815469359607}]
2025-10-14 16:48:28,655 [DEBUG] Updating memory for person #2 with payload: {'total_interactions': 3}
2025-10-14 16:48:28,655 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 2, "updates": {"total_interactions": 3}}}
2025-10-14 16:48:28,656 [DEBUG] Saved memory cache with 2 people.
2025-10-14 16:48:28,656 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 2}}
2025-10-14 16:48:28,656 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 2, "updates": {"total_interactions": 3}}}
2025-10-14 16:48:28,674 [INFO] EVENT {"event": "camera_frame_captured", "details": {"size": 20089}}
2025-10-14 16:48:28,674 [INFO] EVENT {"event": "motion_detected", "details": {}}
2025-10-14 16:48:28,674 [DEBUG] Sending image data (20089 bytes).
2025-10-14 16:48:28,674 [INFO] EVENT {"event": "image_blob_sent", "details": {"bytes": 20089}}
2025-10-14 16:48:28,714 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:28,776 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:28,839 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:28,903 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:28,967 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:29,034 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:29,097 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:29,160 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:29,224 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:29,287 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:29,350 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:29,419 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:29,483 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:29,545 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:29,608 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:29,671 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:29,737 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:29,801 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:29,862 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:29,929 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:29,992 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:30,056 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:30,119 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:30,187 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:30,225 [DEBUG] AI stopped speaking. Recording will resume after 0.5s delay.
2025-10-14 16:48:30,226 [INFO] EVENT {"event": "ai_speaking_state", "details": {"state": "stopped", "delay": 0.5}}
2025-10-14 16:48:30,250 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:30,314 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:30,378 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:30,456 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:30,518 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:30,575 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:30,635 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:30,676 [DEBUG] Capturing camera frame.
2025-10-14 16:48:30,694 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:30,764 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:30,764 [DEBUG] Person started speaking.
2025-10-14 16:48:30,764 [INFO] EVENT {"event": "person_speaking_state", "details": {"state": "started"}}
2025-10-14 16:48:30,764 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:30,764 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 2048, "trigger": "periodic"}}
2025-10-14 16:48:30,765 [DEBUG] Sending audio data (2048 bytes).
2025-10-14 16:48:30,765 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 2048}}
2025-10-14 16:48:30,826 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:30,891 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:30,955 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:31,015 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:31,044 [DEBUG] FaceReID detections: [{'pid': 2, 'bbox': (787, 0, 1199, 554), 'served': False, 'similarity': 0.7238163553998047}]
2025-10-14 16:48:31,045 [DEBUG] Updating memory for person #2 with payload: {'total_interactions': 4}
2025-10-14 16:48:31,045 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 2, "updates": {"total_interactions": 4}}}
2025-10-14 16:48:31,045 [DEBUG] Saved memory cache with 2 people.
2025-10-14 16:48:31,045 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 2}}
2025-10-14 16:48:31,045 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 2, "updates": {"total_interactions": 4}}}
2025-10-14 16:48:31,063 [INFO] EVENT {"event": "camera_frame_captured", "details": {"size": 20184}}
2025-10-14 16:48:31,063 [INFO] EVENT {"event": "motion_detected", "details": {}}
2025-10-14 16:48:31,064 [DEBUG] Sending image data (20184 bytes).
2025-10-14 16:48:31,064 [INFO] EVENT {"event": "image_blob_sent", "details": {"bytes": 20184}}
2025-10-14 16:48:31,080 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:31,080 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:31,080 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:31,080 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:31,081 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:31,146 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:31,211 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:31,271 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:31,337 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:31,403 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:31,403 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:31,403 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:31,404 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:31,404 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:31,464 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:31,526 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:31,593 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:31,658 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:31,721 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:31,721 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:31,721 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:31,721 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:31,721 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:31,787 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:31,847 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:31,913 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:31,978 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:32,042 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:32,043 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:32,043 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:32,045 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:32,045 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:32,102 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:32,167 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:32,233 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:32,299 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:32,358 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:32,359 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:32,359 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:32,359 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:32,359 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:32,423 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:32,488 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:32,550 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:32,617 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:32,683 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:32,684 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:32,684 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:32,684 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:32,684 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:32,747 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:32,808 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:32,871 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:32,936 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:32,999 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:32,999 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:32,999 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:32,999 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:32,999 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:33,064 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:33,096 [DEBUG] Capturing camera frame.
2025-10-14 16:48:33,132 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:33,195 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:33,255 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:33,321 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:33,321 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:33,321 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:33,321 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:33,321 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:33,353 [DEBUG] FaceReID detections: [{'pid': 2, 'bbox': (811, 0, 1207, 503), 'served': False, 'similarity': 0.8450406297230509}]
2025-10-14 16:48:33,353 [DEBUG] Updating memory for person #2 with payload: {'total_interactions': 5}
2025-10-14 16:48:33,353 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 2, "updates": {"total_interactions": 5}}}
2025-10-14 16:48:33,354 [DEBUG] Saved memory cache with 2 people.
2025-10-14 16:48:33,354 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 2}}
2025-10-14 16:48:33,354 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 2, "updates": {"total_interactions": 5}}}
2025-10-14 16:48:33,371 [INFO] EVENT {"event": "camera_frame_captured", "details": {"size": 20182}}
2025-10-14 16:48:33,371 [INFO] EVENT {"event": "motion_detected", "details": {}}
2025-10-14 16:48:33,373 [DEBUG] Sending image data (20182 bytes).
2025-10-14 16:48:33,374 [INFO] EVENT {"event": "image_blob_sent", "details": {"bytes": 20182}}
2025-10-14 16:48:33,374 [DEBUG] Triggering proactive prompt: [Operator Guidance] Motion observed near the counter. Check who's approaching.
[Person Memory - ID #2]
Last seen: just now
Total interactions: 4
Served samples: 0
Current state: Offered sample
Recent interactions:
  - [16:48:28] User approached counter.
Observations:
  - [16:48:26] First appearance at the counter
  - [16:48:28] Person approached the counter and was offered a sample.

2025-10-14 16:48:33,374 [INFO] EVENT {"event": "proactive_prompt", "details": {"prompt": "[Operator Guidance] Motion observed near the counter. Check who's approaching.\n[Person Memory - ID #2]\nLast seen: just now\nTotal interactions: 4\nServed samples: 0\nCurrent state: Offered sample\nRecent interactions:\n  - [16:48:28] User approached counter.\nObservations:\n  - [16:48:26] First appearance at the counter\n  - [16:48:28] Person approached the counter and was offered a sample.\n"}}
2025-10-14 16:48:33,374 [DEBUG] Sending client content to model (proactive): {"parts": [{"text": "[Operator Guidance] Motion observed near the counter. Check who's approaching.\n[Person Memory - ID #2]\nLast seen: just now\nTotal interactions: 4\nServed samples: 0\nCurrent state: Offered sample\nRecent interactions:\n  - [16:48:28] User approached counter.\nObservations:\n  - [16:48:26] First appearance at the counter\n  - [16:48:28] Person approached the counter and was offered a sample.\n"}]}
2025-10-14 16:48:33,375 [INFO] EVENT {"event": "llm_text_outbound", "details": {"source": "proactive_prompt", "payload": {"parts": [{"text": "<truncated>"}]}}}
2025-10-14 16:48:33,386 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:33,432 [DEBUG] Received audio chunk: 46080 bytes
2025-10-14 16:48:33,432 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 46080}}
2025-10-14 16:48:33,433 [DEBUG] AI started speaking. Recording is paused.
2025-10-14 16:48:33,433 [INFO] EVENT {"event": "ai_speaking_state", "details": {"state": "started"}}
2025-10-14 16:48:33,434 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:33,434 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:33,434 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:33,434 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:33,434 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:33,434 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:33,446 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:33,446 [DEBUG] Dropping buffered audio while AI is speaking.
2025-10-14 16:48:33,446 [INFO] EVENT {"event": "audio_dropped", "details": {"reason": "ai_speaking", "bytes": 2048}}
2025-10-14 16:48:33,486 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:33,486 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:33,486 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:33,486 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:33,486 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:33,486 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:33,486 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:33,486 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:33,505 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:33,505 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:33,505 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:33,505 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:33,510 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:33,519 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:33,519 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:33,519 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:33,519 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:33,536 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:33,536 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:33,536 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:33,537 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:33,545 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:33,545 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:33,554 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:33,554 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:33,575 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:33,576 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:33,576 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:33,576 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:33,576 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:33,580 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:33,580 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:33,589 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:33,589 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:33,605 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:33,605 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:33,605 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:33,605 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:33,614 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:33,614 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:33,639 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:33,702 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:33,771 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:33,835 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:33,898 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:33,962 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:34,026 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:34,028 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:34,028 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:34,028 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:34,028 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:34,034 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:34,034 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:34,052 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:34,053 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:34,053 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:34,053 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:34,060 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:34,060 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:34,079 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:34,079 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:34,079 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:34,079 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:34,086 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:34,086 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:34,088 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:34,093 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:34,095 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:34,103 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:34,105 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:34,111 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:34,111 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:34,125 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:34,125 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:34,142 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:34,143 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:34,144 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:34,144 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:34,151 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:34,160 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:34,160 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:34,161 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:34,162 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:34,164 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:34,164 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:34,170 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:34,171 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:34,188 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:34,188 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:34,189 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:34,189 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:34,198 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:34,198 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:34,210 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:34,211 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:34,215 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:34,215 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:34,215 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:34,224 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:34,224 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:34,239 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:34,239 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:34,249 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:34,249 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:34,250 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:34,250 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:34,257 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:34,257 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:34,265 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:34,266 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:34,276 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:34,277 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:34,279 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:34,347 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:34,356 [DEBUG] Model called tool: Update_Person_Memory with ID: function-call-11016263592185106866
2025-10-14 16:48:34,356 [INFO] EVENT {"event": "model_tool_call", "details": {"name": "Update_Person_Memory", "call_id": "function-call-11016263592185106866", "args": {"observation": "Person took a sample.", "conversation": "User accepted sample offer and took a sample.", "person_id": 2, "served_samples": 1, "state": "Received sample"}}}
2025-10-14 16:48:34,356 [DEBUG] Update_Person_Memory tool called with args: {'observation': 'Person took a sample.', 'conversation': 'User accepted sample offer and took a sample.', 'person_id': 2, 'served_samples': 1, 'state': 'Received sample'}
2025-10-14 16:48:34,357 [INFO] EVENT {"event": "memory_tool_invocation", "details": {"name": "Update_Person_Memory", "args": {"observation": "Person took a sample.", "conversation": "User accepted sample offer and took a sample.", "person_id": 2, "served_samples": 1, "state": "Received sample"}}}
2025-10-14 16:48:34,357 [DEBUG] Update_Person_Memory missing fields for person #2: ['preferences']
2025-10-14 16:48:34,357 [INFO] EVENT {"event": "memory_tool_missing_fields", "details": {"person_id": 2, "missing_fields": ["preferences"]}}
2025-10-14 16:48:34,357 [DEBUG] Updating memory for person #2 with payload: {'observations': 'Person took a sample.', 'state': 'Received sample', 'conversation_history': 'User accepted sample offer and took a sample.'}
2025-10-14 16:48:34,357 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 2, "updates": {"observations": "Person took a sample.", "state": "Received sample", "conversation_history": "User accepted sample offer and took a sample."}}}
2025-10-14 16:48:34,358 [DEBUG] Saved memory cache with 2 people.
2025-10-14 16:48:34,358 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 2}}
2025-10-14 16:48:34,358 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 2, "updates": {"observations": "Person took a sample.", "state": "Received sample", "conversation_history": "User accepted sample offer and took a sample."}}}
2025-10-14 16:48:34,358 [DEBUG] Updated memory for person #2: {'observations': 'Person took a sample.', 'state': 'Received sample', 'conversation_history': 'User accepted sample offer and took a sample.'}
2025-10-14 16:48:34,358 [INFO] EVENT {"event": "tool_response_sent", "details": {"tool": "Update_Person_Memory", "response": {"status": "Memory updated", "person_id": 2}}}
2025-10-14 16:48:34,409 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:34,471 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:34,535 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:34,598 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:34,666 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:34,729 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:34,793 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:34,856 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:34,919 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:34,983 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:35,051 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:35,114 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:35,178 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:35,241 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:35,305 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:35,368 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:35,411 [DEBUG] Capturing camera frame.
2025-10-14 16:48:35,430 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:35,499 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:35,564 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:35,622 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:35,687 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:35,699 [DEBUG] FaceReID detections: [{'pid': 2, 'bbox': (876, 0, 1258, 431), 'served': False, 'similarity': 0.8181300247538833}]
2025-10-14 16:48:35,699 [DEBUG] Updating memory for person #2 with payload: {'total_interactions': 6}
2025-10-14 16:48:35,699 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 2, "updates": {"total_interactions": 6}}}
2025-10-14 16:48:35,699 [DEBUG] Saved memory cache with 2 people.
2025-10-14 16:48:35,699 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 2}}
2025-10-14 16:48:35,699 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 2, "updates": {"total_interactions": 6}}}
2025-10-14 16:48:35,718 [INFO] EVENT {"event": "camera_frame_captured", "details": {"size": 19663}}
2025-10-14 16:48:35,718 [INFO] EVENT {"event": "motion_detected", "details": {}}
2025-10-14 16:48:35,718 [DEBUG] Sending image data (19663 bytes).
2025-10-14 16:48:35,719 [INFO] EVENT {"event": "image_blob_sent", "details": {"bytes": 19663}}
2025-10-14 16:48:35,756 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:35,820 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:35,883 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:35,946 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:36,010 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:36,073 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:36,139 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:36,203 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:36,263 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:36,372 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:36,432 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:36,484 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:36,535 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:36,586 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:36,650 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:36,712 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:36,719 [DEBUG] AI stopped speaking. Recording will resume after 0.5s delay.
2025-10-14 16:48:36,719 [INFO] EVENT {"event": "ai_speaking_state", "details": {"state": "stopped", "delay": 0.5}}
2025-10-14 16:48:36,775 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:36,838 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:36,902 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:36,969 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:37,032 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:37,095 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:37,159 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:37,223 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:37,223 [DEBUG] Person started speaking.
2025-10-14 16:48:37,223 [INFO] EVENT {"event": "person_speaking_state", "details": {"state": "started"}}
2025-10-14 16:48:37,223 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:37,223 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 2048, "trigger": "periodic"}}
2025-10-14 16:48:37,224 [DEBUG] Sending audio data (2048 bytes).
2025-10-14 16:48:37,224 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 2048}}
2025-10-14 16:48:37,290 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:37,355 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:37,419 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:37,483 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:37,549 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:37,550 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:37,550 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:37,551 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:37,551 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:37,609 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:37,675 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:37,733 [DEBUG] Capturing camera frame.
2025-10-14 16:48:37,736 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:37,802 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:37,867 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:37,867 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:37,868 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:37,868 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:37,868 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:37,927 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:37,994 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:38,060 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:38,135 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:38,187 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:38,187 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:38,187 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:38,187 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:38,187 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:38,202 [DEBUG] FaceReID detections: [{'pid': 2, 'bbox': (1197, 0, 1519, 357), 'served': False, 'similarity': 0.512920816273078}]
2025-10-14 16:48:38,203 [DEBUG] Updating memory for person #2 with payload: {'total_interactions': 7}
2025-10-14 16:48:38,203 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 2, "updates": {"total_interactions": 7}}}
2025-10-14 16:48:38,204 [DEBUG] Saved memory cache with 2 people.
2025-10-14 16:48:38,204 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 2}}
2025-10-14 16:48:38,204 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 2, "updates": {"total_interactions": 7}}}
2025-10-14 16:48:38,227 [INFO] EVENT {"event": "camera_frame_captured", "details": {"size": 18291}}
2025-10-14 16:48:38,227 [INFO] EVENT {"event": "motion_detected", "details": {}}
2025-10-14 16:48:38,227 [DEBUG] Sending image data (18291 bytes).
2025-10-14 16:48:38,227 [INFO] EVENT {"event": "image_blob_sent", "details": {"bytes": 18291}}
2025-10-14 16:48:38,248 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:38,314 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:38,376 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:38,443 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:38,504 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:38,504 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:38,504 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:38,504 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:38,504 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:38,569 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:38,635 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:38,722 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:38,761 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:38,825 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:38,826 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:38,826 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:38,826 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:38,826 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:38,889 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:38,955 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:39,015 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:39,083 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:39,144 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:39,144 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:39,144 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:39,145 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:39,145 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:39,210 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:39,272 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:39,338 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:39,403 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:39,468 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:39,468 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:39,468 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:39,468 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:39,468 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:39,528 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:39,596 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:39,655 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:39,722 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:39,783 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:39,784 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:39,784 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:39,784 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:39,784 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:39,849 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:39,910 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:39,975 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:40,040 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:40,105 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:40,105 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:40,105 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:40,105 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:40,105 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:40,169 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:40,230 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:40,263 [DEBUG] Capturing camera frame.
2025-10-14 16:48:40,298 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:40,360 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:40,427 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:40,427 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:40,427 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:40,427 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:40,427 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:40,491 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:40,516 [DEBUG] FaceReID detections: [{'pid': 3, 'bbox': (204, 506, 339, 652), 'served': False, 'similarity': 0.10852222969566783}]
2025-10-14 16:48:40,516 [INFO] EVENT {"event": "memory_created", "details": {"person_id": 3}}
2025-10-14 16:48:40,516 [DEBUG] Updating memory for person #3 with payload: {'total_interactions': 1, 'state': 'just_arrived', 'observations': 'First appearance at the counter'}
2025-10-14 16:48:40,516 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 3, "updates": {"total_interactions": 1, "state": "just_arrived", "observations": "First appearance at the counter"}}}
2025-10-14 16:48:40,516 [DEBUG] Saved memory cache with 3 people.
2025-10-14 16:48:40,516 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 3}}
2025-10-14 16:48:40,516 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 3, "updates": {"total_interactions": 1, "state": "just_arrived", "observations": "First appearance at the counter"}}}
2025-10-14 16:48:40,516 [DEBUG] Updating memory for person #3 with payload: {'total_interactions': 2}
2025-10-14 16:48:40,517 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 3, "updates": {"total_interactions": 2}}}
2025-10-14 16:48:40,517 [DEBUG] Saved memory cache with 3 people.
2025-10-14 16:48:40,517 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 3}}
2025-10-14 16:48:40,517 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 3, "updates": {"total_interactions": 2}}}
2025-10-14 16:48:40,534 [INFO] EVENT {"event": "camera_frame_captured", "details": {"size": 22818}}
2025-10-14 16:48:40,534 [INFO] EVENT {"event": "motion_detected", "details": {}}
2025-10-14 16:48:40,534 [DEBUG] Sending image data (22818 bytes).
2025-10-14 16:48:40,534 [INFO] EVENT {"event": "image_blob_sent", "details": {"bytes": 22818}}
2025-10-14 16:48:40,534 [DEBUG] Triggering proactive prompt: [Operator Guidance] Motion observed near the counter. Check who's approaching.
New person (ID #3) detected at the counter.
2025-10-14 16:48:40,534 [INFO] EVENT {"event": "proactive_prompt", "details": {"prompt": "[Operator Guidance] Motion observed near the counter. Check who's approaching.\nNew person (ID #3) detected at the counter."}}
2025-10-14 16:48:40,534 [DEBUG] Sending client content to model (proactive): {"parts": [{"text": "[Operator Guidance] Motion observed near the counter. Check who's approaching.\nNew person (ID #3) detected at the counter."}]}
2025-10-14 16:48:40,534 [INFO] EVENT {"event": "llm_text_outbound", "details": {"source": "proactive_prompt", "payload": {"parts": [{"text": "<truncated>"}]}}}
2025-10-14 16:48:40,550 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:40,618 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:40,684 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:40,744 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:40,744 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:40,744 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:40,744 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:40,744 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:40,809 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:40,875 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:40,934 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:41,000 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:41,064 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:41,064 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:41,064 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:41,065 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:41,065 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:41,129 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:41,191 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:41,258 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:41,322 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:41,383 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:41,383 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:41,384 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:41,384 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:41,384 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:41,449 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:41,516 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:41,532 [DEBUG] Received audio chunk: 46080 bytes
2025-10-14 16:48:41,533 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 46080}}
2025-10-14 16:48:41,534 [DEBUG] AI started speaking. Recording is paused.
2025-10-14 16:48:41,534 [INFO] EVENT {"event": "ai_speaking_state", "details": {"state": "started"}}
2025-10-14 16:48:41,534 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:41,534 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:41,535 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:41,535 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:41,535 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:41,535 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:41,535 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:41,535 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:41,536 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:41,536 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:41,536 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:41,536 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:41,536 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:41,536 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:41,537 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:41,537 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:41,554 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:41,554 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:41,554 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:41,554 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:41,580 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:41,580 [DEBUG] Dropping buffered audio while AI is speaking.
2025-10-14 16:48:41,580 [INFO] EVENT {"event": "audio_dropped", "details": {"reason": "ai_speaking", "bytes": 4096}}
2025-10-14 16:48:41,643 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:41,706 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:41,768 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:41,831 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:41,895 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:41,930 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:41,930 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:41,930 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:41,930 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:41,937 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:41,938 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:41,953 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:41,953 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:41,953 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:41,953 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:41,959 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:41,976 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:41,976 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:41,976 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:41,976 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:41,985 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:41,986 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:41,996 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:41,997 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:41,997 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:41,997 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:42,004 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:42,004 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:42,012 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:42,012 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:42,022 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:42,033 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:42,033 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:42,033 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:42,033 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:42,049 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:42,050 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:42,050 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:42,050 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:42,056 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:42,056 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:42,065 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:42,065 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:42,076 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:42,076 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:42,091 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:42,091 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:42,091 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:42,092 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:42,092 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:42,105 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:42,105 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:42,106 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:42,106 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:42,116 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:42,116 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:42,124 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:42,124 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:42,131 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:42,131 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:42,140 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:42,140 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:42,148 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:42,148 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:42,153 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:42,157 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:42,157 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:42,174 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:42,174 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:42,175 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:42,175 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:42,216 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:42,221 [DEBUG] Model called tool: Update_Person_Memory with ID: function-call-2428654312712820369
2025-10-14 16:48:42,222 [INFO] EVENT {"event": "model_tool_call", "details": {"name": "Update_Person_Memory", "call_id": "function-call-2428654312712820369", "args": {"conversation": "User approached counter.", "state": "Offered sample", "observation": "Person approached the counter and was offered a sample.", "person_id": 3}}}
2025-10-14 16:48:42,222 [DEBUG] Update_Person_Memory tool called with args: {'conversation': 'User approached counter.', 'state': 'Offered sample', 'observation': 'Person approached the counter and was offered a sample.', 'person_id': 3}
2025-10-14 16:48:42,222 [INFO] EVENT {"event": "memory_tool_invocation", "details": {"name": "Update_Person_Memory", "args": {"conversation": "User approached counter.", "state": "Offered sample", "observation": "Person approached the counter and was offered a sample.", "person_id": 3}}}
2025-10-14 16:48:42,222 [DEBUG] Update_Person_Memory missing fields for person #3: ['preferences']
2025-10-14 16:48:42,222 [INFO] EVENT {"event": "memory_tool_missing_fields", "details": {"person_id": 3, "missing_fields": ["preferences"]}}
2025-10-14 16:48:42,222 [DEBUG] Updating memory for person #3 with payload: {'observations': 'Person approached the counter and was offered a sample.', 'state': 'Offered sample', 'conversation_history': 'User approached counter.'}
2025-10-14 16:48:42,222 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 3, "updates": {"observations": "Person approached the counter and was offered a sample.", "state": "Offered sample", "conversation_history": "User approached counter."}}}
2025-10-14 16:48:42,222 [DEBUG] Saved memory cache with 3 people.
2025-10-14 16:48:42,222 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 3}}
2025-10-14 16:48:42,222 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 3, "updates": {"observations": "Person approached the counter and was offered a sample.", "state": "Offered sample", "conversation_history": "User approached counter."}}}
2025-10-14 16:48:42,222 [DEBUG] Updated memory for person #3: {'observations': 'Person approached the counter and was offered a sample.', 'state': 'Offered sample', 'conversation_history': 'User approached counter.'}
2025-10-14 16:48:42,222 [INFO] EVENT {"event": "tool_response_sent", "details": {"tool": "Update_Person_Memory", "response": {"status": "Memory updated", "person_id": 3}}}
2025-10-14 16:48:42,281 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:42,347 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:42,407 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:42,471 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:42,535 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:42,566 [DEBUG] Capturing camera frame.
2025-10-14 16:48:42,602 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:42,666 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:42,727 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:42,792 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:42,855 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:42,920 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:42,984 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:43,074 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:43,135 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:43,214 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:43,266 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:43,318 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:43,375 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:43,417 [DEBUG] FaceReID detections: [{'pid': 3, 'bbox': (1003, 223, 1178, 430), 'served': False, 'similarity': 0.6065234050814421}, {'pid': 1, 'bbox': (538, 304, 691, 490), 'served': True, 'similarity': 0.6995373786027617}]
2025-10-14 16:48:43,417 [DEBUG] Updating memory for person #3 with payload: {'total_interactions': 3}
2025-10-14 16:48:43,417 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 3, "updates": {"total_interactions": 3}}}
2025-10-14 16:48:43,418 [DEBUG] Saved memory cache with 3 people.
2025-10-14 16:48:43,418 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 3}}
2025-10-14 16:48:43,418 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 3, "updates": {"total_interactions": 3}}}
2025-10-14 16:48:43,418 [DEBUG] Updating memory for person #1 with payload: {'total_interactions': 8}
2025-10-14 16:48:43,418 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 1, "updates": {"total_interactions": 8}}}
2025-10-14 16:48:43,418 [DEBUG] Saved memory cache with 3 people.
2025-10-14 16:48:43,418 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 3}}
2025-10-14 16:48:43,418 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 1, "updates": {"total_interactions": 8}}}
2025-10-14 16:48:43,433 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:43,438 [INFO] EVENT {"event": "camera_frame_captured", "details": {"size": 23546}}
2025-10-14 16:48:43,438 [INFO] EVENT {"event": "motion_detected", "details": {}}
2025-10-14 16:48:43,438 [DEBUG] Sending image data (23546 bytes).
2025-10-14 16:48:43,438 [INFO] EVENT {"event": "image_blob_sent", "details": {"bytes": 23546}}
2025-10-14 16:48:43,495 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:43,558 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:43,627 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:43,690 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:43,754 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:43,817 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:43,880 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:43,943 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:44,010 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:44,072 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:44,136 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:44,200 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:44,262 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:44,326 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:44,392 [DEBUG] AI stopped speaking. Recording will resume after 0.5s delay.
2025-10-14 16:48:44,393 [INFO] EVENT {"event": "ai_speaking_state", "details": {"state": "stopped", "delay": 0.5}}
2025-10-14 16:48:44,397 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:44,459 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:44,522 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:44,584 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:44,648 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:44,712 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:44,780 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:44,842 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:44,905 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:44,905 [DEBUG] Person started speaking.
2025-10-14 16:48:44,905 [INFO] EVENT {"event": "person_speaking_state", "details": {"state": "started"}}
2025-10-14 16:48:44,905 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:44,905 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 2048, "trigger": "periodic"}}
2025-10-14 16:48:44,905 [DEBUG] Sending audio data (2048 bytes).
2025-10-14 16:48:44,905 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 2048}}
2025-10-14 16:48:44,966 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:45,031 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:45,095 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:45,162 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:45,226 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:45,226 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:45,226 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:45,226 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:45,226 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:45,294 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:45,352 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:45,418 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:45,473 [DEBUG] Capturing camera frame.
2025-10-14 16:48:45,479 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:45,544 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:45,544 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:45,544 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:45,544 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:45,544 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:45,608 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:45,673 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:45,739 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:45,802 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:45,863 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:45,864 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:45,864 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:45,864 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:45,864 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:45,870 [DEBUG] FaceReID detections: [{'pid': 1, 'bbox': (508, 120, 707, 371), 'served': True, 'similarity': 0.8242667605239609}, {'pid': 3, 'bbox': (1102, 0, 1368, 235), 'served': False, 'similarity': 0.49304931589026446}]
2025-10-14 16:48:45,871 [DEBUG] Updating memory for person #1 with payload: {'total_interactions': 9}
2025-10-14 16:48:45,871 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 1, "updates": {"total_interactions": 9}}}
2025-10-14 16:48:45,871 [DEBUG] Saved memory cache with 3 people.
2025-10-14 16:48:45,871 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 3}}
2025-10-14 16:48:45,871 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 1, "updates": {"total_interactions": 9}}}
2025-10-14 16:48:45,871 [DEBUG] Updating memory for person #3 with payload: {'total_interactions': 4}
2025-10-14 16:48:45,871 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 3, "updates": {"total_interactions": 4}}}
2025-10-14 16:48:45,872 [DEBUG] Saved memory cache with 3 people.
2025-10-14 16:48:45,872 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 3}}
2025-10-14 16:48:45,872 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 3, "updates": {"total_interactions": 4}}}
2025-10-14 16:48:45,892 [INFO] EVENT {"event": "camera_frame_captured", "details": {"size": 23361}}
2025-10-14 16:48:45,892 [INFO] EVENT {"event": "motion_detected", "details": {}}
2025-10-14 16:48:45,892 [DEBUG] Sending image data (23361 bytes).
2025-10-14 16:48:45,892 [INFO] EVENT {"event": "image_blob_sent", "details": {"bytes": 23361}}
2025-10-14 16:48:45,893 [DEBUG] Triggering proactive prompt: [Operator Guidance] Motion observed near the counter. Check who's approaching.
[Person Memory - ID #1]
Last seen: just now
Total interactions: 8
Served samples: 1 (last: 16:48:13)
Current state: Received sample
Recent interactions:
  - [16:48:07] User approached counter.
  - [16:48:13] User accepted sample offer and took one.
  - [16:48:16] User accepted sample offer and took a sample.
Observations:
  - [16:48:07] Person approached the counter and was offered a sample.
  - [16:48:13] Person took a nut bar sample.
  - [16:48:16] Person took a sample.

[Person Memory - ID #3]
Last seen: just now
Total interactions: 3
Served samples: 0
Current state: Offered sample
Recent interactions:
  - [16:48:42] User approached counter.
Observations:
  - [16:48:40] First appearance at the counter
  - [16:48:42] Person approached the counter and was offered a sample.

2025-10-14 16:48:45,893 [INFO] EVENT {"event": "proactive_prompt", "details": {"prompt": "[Operator Guidance] Motion observed near the counter. Check who's approaching.\n[Person Memory - ID #1]\nLast seen: just now\nTotal interactions: 8\nServed samples: 1 (last: 16:48:13)\nCurrent state: Received sample\nRecent interactions:\n  - [16:48:07] User approached counter.\n  - [16:48:13] User accepted sample offer and took one.\n  - [16:48:16] User accepted sample offer and took a sample.\nObservations:\n  - [16:48:07] Person approached the counter and was offered a sample.\n  - [16:48:13] Person took a nut bar sample.\n  - [16:48:16] Person took a sample.\n\n[Person Memory - ID #3]\nLast seen: just now\nTotal interactions: 3\nServed samples: 0\nCurrent state: Offered sample\nRecent interactions:\n  - [16:48:42] User approached counter.\nObservations:\n  - [16:48:40] First appearance at the counter\n  - [16:48:42] Person approached the counter and was offered a sample.\n"}}
2025-10-14 16:48:45,893 [DEBUG] Sending client content to model (proactive): {"parts": [{"text": "[Operator Guidance] Motion observed near the counter. Check who's approaching.\n[Person Memory - ID #1]\nLast seen: just now\nTotal interactions: 8\nServed samples: 1 (last: 16:48:13)\nCurrent state: Received sample\nRecent interactions:\n  - [16:48:07] User approached counter.\n  - [16:48:13] User accepted sample offer and took one.\n  - [16:48:16] User accepted sample offer and took a sample.\nObservations:\n  - [16:48:07] Person approached the counter and was offered a sample.\n  - [16:48:13] Person took a nut bar sample.\n  - [16:48:16] Person took a sample.\n\n[Person Memory - ID #3]\nLast seen: just now\nTotal interactions: 3\nServed samples: 0\nCurrent state: Offered sample\nRecent interactions:\n  - [16:48:42] User approached counter.\nObservations:\n  - [16:48:40] First appearance at the counter\n  - [16:48:42] Person approached the counter and was offered a sample.\n"}]}
2025-10-14 16:48:45,893 [INFO] EVENT {"event": "llm_text_outbound", "details": {"source": "proactive_prompt", "payload": {"parts": [{"text": "<truncated>"}]}}}
2025-10-14 16:48:45,930 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:45,990 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:46,057 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:46,123 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:46,185 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:46,185 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:46,185 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:46,185 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:46,185 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:46,247 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:46,314 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:46,374 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:46,440 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:46,503 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:46,503 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:46,503 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:46,503 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:46,503 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:46,570 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:46,631 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:46,696 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:46,763 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:46,826 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:46,826 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:46,826 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:46,826 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:46,826 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:46,890 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:46,956 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:47,016 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:47,083 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:47,142 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:47,143 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:47,143 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:47,143 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:47,143 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:47,208 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:47,271 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:47,339 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:47,400 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:47,467 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:47,467 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:47,467 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:47,468 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:47,468 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:47,528 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:47,593 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:47,657 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:47,720 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:47,787 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:47,787 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:47,787 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:47,787 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:47,787 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:47,847 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:47,912 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:47,937 [DEBUG] Capturing camera frame.
2025-10-14 16:48:47,979 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:48,046 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:48,105 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:48,106 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:48,106 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:48,106 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:48,106 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:48,170 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:48,232 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:48,296 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:48,358 [DEBUG] FaceReID detections: [{'pid': 3, 'bbox': (1140, 49, 1359, 320), 'served': False, 'similarity': 0.700496680311449}, {'pid': 1, 'bbox': (532, 133, 725, 384), 'served': True, 'similarity': 0.9010122696854275}]
2025-10-14 16:48:48,358 [DEBUG] Updating memory for person #3 with payload: {'total_interactions': 5}
2025-10-14 16:48:48,358 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 3, "updates": {"total_interactions": 5}}}
2025-10-14 16:48:48,359 [DEBUG] Saved memory cache with 3 people.
2025-10-14 16:48:48,359 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 3}}
2025-10-14 16:48:48,359 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 3, "updates": {"total_interactions": 5}}}
2025-10-14 16:48:48,359 [DEBUG] Updating memory for person #1 with payload: {'total_interactions': 10}
2025-10-14 16:48:48,359 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 1, "updates": {"total_interactions": 10}}}
2025-10-14 16:48:48,359 [DEBUG] Saved memory cache with 3 people.
2025-10-14 16:48:48,359 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 3}}
2025-10-14 16:48:48,359 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 1, "updates": {"total_interactions": 10}}}
2025-10-14 16:48:48,363 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:48,377 [INFO] EVENT {"event": "camera_frame_captured", "details": {"size": 24450}}
2025-10-14 16:48:48,378 [INFO] EVENT {"event": "motion_detected", "details": {}}
2025-10-14 16:48:48,378 [DEBUG] Sending image data (24450 bytes).
2025-10-14 16:48:48,378 [INFO] EVENT {"event": "image_blob_sent", "details": {"bytes": 24450}}
2025-10-14 16:48:48,422 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:48,422 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:48,422 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:48,422 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:48,423 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:48,489 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:48,554 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:48,612 [DEBUG] Received audio chunk: 46080 bytes
2025-10-14 16:48:48,612 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 46080}}
2025-10-14 16:48:48,613 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:48,613 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:48,613 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:48,613 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:48,613 [DEBUG] AI started speaking. Recording is paused.
2025-10-14 16:48:48,613 [INFO] EVENT {"event": "ai_speaking_state", "details": {"state": "started"}}
2025-10-14 16:48:48,613 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:48,613 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:48,613 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:48,613 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:48,615 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:48,615 [DEBUG] Dropping buffered audio while AI is speaking.
2025-10-14 16:48:48,615 [INFO] EVENT {"event": "audio_dropped", "details": {"reason": "ai_speaking", "bytes": 4096}}
2025-10-14 16:48:48,667 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:48,667 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:48,668 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:48,668 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:48,668 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:48,668 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:48,668 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:48,668 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:48,683 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:48,683 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:48,683 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:48,683 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:48,684 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:48,700 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:48,700 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:48,701 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:48,701 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:48,717 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:48,717 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:48,718 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:48,718 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:48,725 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:48,725 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:48,733 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:48,734 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:48,742 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:48,743 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:48,746 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:48,810 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:48,875 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:48,938 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:49,034 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:49,096 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:49,164 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:49,164 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:49,164 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:49,164 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:49,184 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:49,190 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:49,190 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:49,191 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:49,191 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:49,198 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:49,198 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:49,198 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:49,198 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:49,199 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:49,199 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:49,205 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:49,206 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:49,214 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:49,215 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:49,221 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:49,221 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:49,236 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:49,238 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:49,239 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:49,240 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:49,240 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:49,249 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:49,249 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:49,265 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:49,265 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:49,265 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:49,265 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:49,281 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:49,281 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:49,281 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:49,282 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:49,288 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:49,298 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:49,298 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:49,298 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:49,298 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:49,306 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:49,306 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:49,324 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:49,324 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:49,324 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:49,324 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:49,339 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:49,340 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:49,340 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:49,341 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:49,341 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:49,349 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:49,349 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:49,357 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:49,357 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:49,366 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:49,366 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:49,378 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:49,378 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:49,383 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:49,383 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:49,390 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:49,400 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:49,401 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:49,401 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:49,401 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:49,420 [DEBUG] Model called tool: Update_Person_Memory with ID: function-call-6114295115792500697
2025-10-14 16:48:49,421 [INFO] EVENT {"event": "model_tool_call", "details": {"name": "Update_Person_Memory", "call_id": "function-call-6114295115792500697", "args": {"conversation": "User accepted sample offer and took a sample.", "person_id": 3, "observation": "Person took a sample.", "served_samples": 1, "state": "Received sample"}}}
2025-10-14 16:48:49,421 [DEBUG] Update_Person_Memory tool called with args: {'conversation': 'User accepted sample offer and took a sample.', 'person_id': 3, 'observation': 'Person took a sample.', 'served_samples': 1, 'state': 'Received sample'}
2025-10-14 16:48:49,421 [INFO] EVENT {"event": "memory_tool_invocation", "details": {"name": "Update_Person_Memory", "args": {"conversation": "User accepted sample offer and took a sample.", "person_id": 3, "observation": "Person took a sample.", "served_samples": 1, "state": "Received sample"}}}
2025-10-14 16:48:49,421 [DEBUG] Update_Person_Memory missing fields for person #3: ['preferences']
2025-10-14 16:48:49,421 [INFO] EVENT {"event": "memory_tool_missing_fields", "details": {"person_id": 3, "missing_fields": ["preferences"]}}
2025-10-14 16:48:49,421 [DEBUG] Updating memory for person #3 with payload: {'observations': 'Person took a sample.', 'state': 'Received sample', 'conversation_history': 'User accepted sample offer and took a sample.'}
2025-10-14 16:48:49,421 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 3, "updates": {"observations": "Person took a sample.", "state": "Received sample", "conversation_history": "User accepted sample offer and took a sample."}}}
2025-10-14 16:48:49,421 [DEBUG] Saved memory cache with 3 people.
2025-10-14 16:48:49,421 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 3}}
2025-10-14 16:48:49,421 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 3, "updates": {"observations": "Person took a sample.", "state": "Received sample", "conversation_history": "User accepted sample offer and took a sample."}}}
2025-10-14 16:48:49,421 [DEBUG] Updated memory for person #3: {'observations': 'Person took a sample.', 'state': 'Received sample', 'conversation_history': 'User accepted sample offer and took a sample.'}
2025-10-14 16:48:49,422 [INFO] EVENT {"event": "tool_response_sent", "details": {"tool": "Update_Person_Memory", "response": {"status": "Memory updated", "person_id": 3}}}
2025-10-14 16:48:49,447 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:49,510 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:49,578 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:49,640 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:49,705 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:49,767 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:49,831 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:49,898 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:49,960 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:50,024 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:50,088 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:50,152 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:50,216 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:50,280 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:50,343 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:50,383 [DEBUG] Capturing camera frame.
2025-10-14 16:48:50,406 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:50,476 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:50,541 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:50,600 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:50,664 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:50,730 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:50,795 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:50,854 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:50,923 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:50,949 [DEBUG] FaceReID detections: [{'pid': 3, 'bbox': (1147, 48, 1365, 324), 'served': False, 'similarity': 0.7865311831225842}, {'pid': 1, 'bbox': (532, 135, 724, 384), 'served': True, 'similarity': 0.9332439230357858}]
2025-10-14 16:48:50,949 [DEBUG] Updating memory for person #3 with payload: {'total_interactions': 6}
2025-10-14 16:48:50,949 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 3, "updates": {"total_interactions": 6}}}
2025-10-14 16:48:50,950 [DEBUG] Saved memory cache with 3 people.
2025-10-14 16:48:50,950 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 3}}
2025-10-14 16:48:50,950 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 3, "updates": {"total_interactions": 6}}}
2025-10-14 16:48:50,950 [DEBUG] Updating memory for person #1 with payload: {'total_interactions': 11}
2025-10-14 16:48:50,950 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 1, "updates": {"total_interactions": 11}}}
2025-10-14 16:48:50,950 [DEBUG] Saved memory cache with 3 people.
2025-10-14 16:48:50,950 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 3}}
2025-10-14 16:48:50,950 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 1, "updates": {"total_interactions": 11}}}
2025-10-14 16:48:50,969 [INFO] EVENT {"event": "camera_frame_captured", "details": {"size": 24394}}
2025-10-14 16:48:50,969 [INFO] EVENT {"event": "motion_detected", "details": {}}
2025-10-14 16:48:50,969 [DEBUG] Sending image data (24394 bytes).
2025-10-14 16:48:50,969 [INFO] EVENT {"event": "image_blob_sent", "details": {"bytes": 24394}}
2025-10-14 16:48:50,970 [DEBUG] Triggering proactive prompt: [Operator Guidance] Motion observed near the counter. Check who's approaching.
[Person Memory - ID #3]
Last seen: just now
Total interactions: 5
Served samples: 0
Current state: Received sample
Recent interactions:
  - [16:48:42] User approached counter.
  - [16:48:49] User accepted sample offer and took a sample.
Observations:
  - [16:48:40] First appearance at the counter
  - [16:48:42] Person approached the counter and was offered a sample.
  - [16:48:49] Person took a sample.

[Person Memory - ID #1]
Last seen: just now
Total interactions: 10
Served samples: 1 (last: 16:48:13)
Current state: Received sample
Recent interactions:
  - [16:48:07] User approached counter.
  - [16:48:13] User accepted sample offer and took one.
  - [16:48:16] User accepted sample offer and took a sample.
Observations:
  - [16:48:07] Person approached the counter and was offered a sample.
  - [16:48:13] Person took a nut bar sample.
  - [16:48:16] Person took a sample.

2025-10-14 16:48:50,970 [INFO] EVENT {"event": "proactive_prompt", "details": {"prompt": "[Operator Guidance] Motion observed near the counter. Check who's approaching.\n[Person Memory - ID #3]\nLast seen: just now\nTotal interactions: 5\nServed samples: 0\nCurrent state: Received sample\nRecent interactions:\n  - [16:48:42] User approached counter.\n  - [16:48:49] User accepted sample offer and took a sample.\nObservations:\n  - [16:48:40] First appearance at the counter\n  - [16:48:42] Person approached the counter and was offered a sample.\n  - [16:48:49] Person took a sample.\n\n[Person Memory - ID #1]\nLast seen: just now\nTotal interactions: 10\nServed samples: 1 (last: 16:48:13)\nCurrent state: Received sample\nRecent interactions:\n  - [16:48:07] User approached counter.\n  - [16:48:13] User accepted sample offer and took one.\n  - [16:48:16] User accepted sample offer and took a sample.\nObservations:\n  - [16:48:07] Person approached the counter and was offered a sample.\n  - [16:48:13] Person took a nut bar sample.\n  - [16:48:16] Person took a sample.\n"}}
2025-10-14 16:48:50,970 [DEBUG] Sending client content to model (proactive): {"parts": [{"text": "[Operator Guidance] Motion observed near the counter. Check who's approaching.\n[Person Memory - ID #3]\nLast seen: just now\nTotal interactions: 5\nServed samples: 0\nCurrent state: Received sample\nRecent interactions:\n  - [16:48:42] User approached counter.\n  - [16:48:49] User accepted sample offer and took a sample.\nObservations:\n  - [16:48:40] First appearance at the counter\n  - [16:48:42] Person approached the counter and was offered a sample.\n  - [16:48:49] Person took a sample.\n\n[Person Memory - ID #1]\nLast seen: just now\nTotal interactions: 10\nServed samples: 1 (last: 16:48:13)\nCurrent state: Received sample\nRecent interactions:\n  - [16:48:07] User approached counter.\n  - [16:48:13] User accepted sample offer and took one.\n  - [16:48:16] User accepted sample offer and took a sample.\nObservations:\n  - [16:48:07] Person approached the counter and was offered a sample.\n  - [16:48:13] Person took a nut bar sample.\n  - [16:48:16] Person took a sample.\n"}]}
2025-10-14 16:48:50,970 [INFO] EVENT {"event": "llm_text_outbound", "details": {"source": "proactive_prompt", "payload": {"parts": [{"text": "<truncated>"}]}}}
2025-10-14 16:48:50,986 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:51,049 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:51,113 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:51,177 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:51,238 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:51,302 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:51,369 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:51,432 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:51,495 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:51,564 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:51,628 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:51,692 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:51,728 [DEBUG] AI stopped speaking. Recording will resume after 0.5s delay.
2025-10-14 16:48:51,729 [INFO] EVENT {"event": "ai_speaking_state", "details": {"state": "stopped", "delay": 0.5}}
2025-10-14 16:48:51,756 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:51,820 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:51,883 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:51,946 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:52,010 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:52,073 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:52,137 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:52,200 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:52,265 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:52,266 [DEBUG] Person started speaking.
2025-10-14 16:48:52,267 [INFO] EVENT {"event": "person_speaking_state", "details": {"state": "started"}}
2025-10-14 16:48:52,267 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:52,267 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 2048, "trigger": "periodic"}}
2025-10-14 16:48:52,267 [DEBUG] Sending audio data (2048 bytes).
2025-10-14 16:48:52,267 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 2048}}
2025-10-14 16:48:52,331 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:52,396 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:52,455 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:52,524 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:52,583 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:52,585 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:52,589 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:52,589 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:52,589 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:52,652 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:52,712 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:52,778 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:52,842 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:52,903 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:52,903 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:52,903 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:52,903 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:52,903 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:52,971 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:53,005 [DEBUG] Capturing camera frame.
2025-10-14 16:48:53,032 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:53,095 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:53,163 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:53,226 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:53,231 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:53,231 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:53,233 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:53,234 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:53,306 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:53,353 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:53,420 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:53,492 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:53,544 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:53,544 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:53,546 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:53,547 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:53,548 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:53,612 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:53,672 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:53,737 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:53,803 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:53,865 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:53,865 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:53,865 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:53,865 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:53,865 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:53,885 [DEBUG] FaceReID detections: [{'pid': 1, 'bbox': (564, 134, 755, 381), 'served': True, 'similarity': 0.8967903366467327}, {'pid': 3, 'bbox': (1161, 0, 1411, 277), 'served': False, 'similarity': 0.7608183957519049}]
2025-10-14 16:48:53,885 [DEBUG] Updating memory for person #1 with payload: {'total_interactions': 12}
2025-10-14 16:48:53,885 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 1, "updates": {"total_interactions": 12}}}
2025-10-14 16:48:53,886 [DEBUG] Saved memory cache with 3 people.
2025-10-14 16:48:53,886 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 3}}
2025-10-14 16:48:53,886 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 1, "updates": {"total_interactions": 12}}}
2025-10-14 16:48:53,886 [DEBUG] Updating memory for person #3 with payload: {'total_interactions': 7}
2025-10-14 16:48:53,886 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 3, "updates": {"total_interactions": 7}}}
2025-10-14 16:48:53,887 [DEBUG] Saved memory cache with 3 people.
2025-10-14 16:48:53,887 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 3}}
2025-10-14 16:48:53,887 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 3, "updates": {"total_interactions": 7}}}
2025-10-14 16:48:53,917 [INFO] EVENT {"event": "camera_frame_captured", "details": {"size": 22846}}
2025-10-14 16:48:53,917 [INFO] EVENT {"event": "motion_detected", "details": {}}
2025-10-14 16:48:53,918 [DEBUG] Sending image data (22846 bytes).
2025-10-14 16:48:53,918 [INFO] EVENT {"event": "image_blob_sent", "details": {"bytes": 22846}}
2025-10-14 16:48:53,929 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:53,994 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:54,066 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:54,119 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:54,184 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:54,184 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:54,184 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:54,184 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:54,184 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:54,252 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:54,311 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:54,374 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:54,440 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:54,507 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:54,508 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:54,508 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:54,508 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:54,508 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:54,570 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:54,633 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:54,698 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:54,763 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:54,824 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:54,824 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:54,824 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:54,824 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:54,825 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:54,890 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:54,951 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:55,017 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:55,083 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:55,146 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:55,146 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:55,146 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:55,146 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:55,146 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:55,208 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:55,271 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:55,339 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:55,401 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:55,464 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:55,465 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:55,465 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:55,465 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:55,465 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:55,530 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:55,597 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:55,661 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:55,722 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:55,782 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:55,783 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:55,783 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:55,783 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:55,783 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:55,848 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:55,910 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:55,917 [DEBUG] Capturing camera frame.
2025-10-14 16:48:55,977 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:56,044 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:56,104 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:56,105 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:56,105 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:56,105 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:56,105 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:56,167 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:56,231 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:56,299 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:56,325 [DEBUG] FaceReID detections: [{'pid': 1, 'bbox': (517, 91, 727, 359), 'served': True, 'similarity': 0.9177468271869644}, {'pid': 3, 'bbox': (1142, 0, 1408, 229), 'served': False, 'similarity': 0.5863070144027646}]
2025-10-14 16:48:56,325 [DEBUG] Updating memory for person #1 with payload: {'total_interactions': 13}
2025-10-14 16:48:56,325 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 1, "updates": {"total_interactions": 13}}}
2025-10-14 16:48:56,326 [DEBUG] Saved memory cache with 3 people.
2025-10-14 16:48:56,326 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 3}}
2025-10-14 16:48:56,326 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 1, "updates": {"total_interactions": 13}}}
2025-10-14 16:48:56,326 [DEBUG] Updating memory for person #3 with payload: {'total_interactions': 8}
2025-10-14 16:48:56,326 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 3, "updates": {"total_interactions": 8}}}
2025-10-14 16:48:56,326 [DEBUG] Saved memory cache with 3 people.
2025-10-14 16:48:56,326 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 3}}
2025-10-14 16:48:56,326 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 3, "updates": {"total_interactions": 8}}}
2025-10-14 16:48:56,357 [INFO] EVENT {"event": "camera_frame_captured", "details": {"size": 23994}}
2025-10-14 16:48:56,357 [INFO] EVENT {"event": "motion_detected", "details": {}}
2025-10-14 16:48:56,358 [DEBUG] Sending image data (23994 bytes).
2025-10-14 16:48:56,358 [INFO] EVENT {"event": "image_blob_sent", "details": {"bytes": 23994}}
2025-10-14 16:48:56,359 [DEBUG] Triggering proactive prompt: [Operator Guidance] Motion observed near the counter. Check who's approaching.
[Person Memory - ID #1]
Last seen: just now
Total interactions: 12
Served samples: 1 (last: 16:48:13)
Current state: Received sample
Recent interactions:
  - [16:48:07] User approached counter.
  - [16:48:13] User accepted sample offer and took one.
  - [16:48:16] User accepted sample offer and took a sample.
Observations:
  - [16:48:07] Person approached the counter and was offered a sample.
  - [16:48:13] Person took a nut bar sample.
  - [16:48:16] Person took a sample.

[Person Memory - ID #3]
Last seen: just now
Total interactions: 7
Served samples: 0
Current state: Received sample
Recent interactions:
  - [16:48:42] User approached counter.
  - [16:48:49] User accepted sample offer and took a sample.
Observations:
  - [16:48:40] First appearance at the counter
  - [16:48:42] Person approached the counter and was offered a sample.
  - [16:48:49] Person took a sample.

2025-10-14 16:48:56,360 [INFO] EVENT {"event": "proactive_prompt", "details": {"prompt": "[Operator Guidance] Motion observed near the counter. Check who's approaching.\n[Person Memory - ID #1]\nLast seen: just now\nTotal interactions: 12\nServed samples: 1 (last: 16:48:13)\nCurrent state: Received sample\nRecent interactions:\n  - [16:48:07] User approached counter.\n  - [16:48:13] User accepted sample offer and took one.\n  - [16:48:16] User accepted sample offer and took a sample.\nObservations:\n  - [16:48:07] Person approached the counter and was offered a sample.\n  - [16:48:13] Person took a nut bar sample.\n  - [16:48:16] Person took a sample.\n\n[Person Memory - ID #3]\nLast seen: just now\nTotal interactions: 7\nServed samples: 0\nCurrent state: Received sample\nRecent interactions:\n  - [16:48:42] User approached counter.\n  - [16:48:49] User accepted sample offer and took a sample.\nObservations:\n  - [16:48:40] First appearance at the counter\n  - [16:48:42] Person approached the counter and was offered a sample.\n  - [16:48:49] Person took a sample.\n"}}
2025-10-14 16:48:56,361 [DEBUG] Sending client content to model (proactive): {"parts": [{"text": "[Operator Guidance] Motion observed near the counter. Check who's approaching.\n[Person Memory - ID #1]\nLast seen: just now\nTotal interactions: 12\nServed samples: 1 (last: 16:48:13)\nCurrent state: Received sample\nRecent interactions:\n  - [16:48:07] User approached counter.\n  - [16:48:13] User accepted sample offer and took one.\n  - [16:48:16] User accepted sample offer and took a sample.\nObservations:\n  - [16:48:07] Person approached the counter and was offered a sample.\n  - [16:48:13] Person took a nut bar sample.\n  - [16:48:16] Person took a sample.\n\n[Person Memory - ID #3]\nLast seen: just now\nTotal interactions: 7\nServed samples: 0\nCurrent state: Received sample\nRecent interactions:\n  - [16:48:42] User approached counter.\n  - [16:48:49] User accepted sample offer and took a sample.\nObservations:\n  - [16:48:40] First appearance at the counter\n  - [16:48:42] Person approached the counter and was offered a sample.\n  - [16:48:49] Person took a sample.\n"}]}
2025-10-14 16:48:56,361 [INFO] EVENT {"event": "llm_text_outbound", "details": {"source": "proactive_prompt", "payload": {"parts": [{"text": "<truncated>"}]}}}
2025-10-14 16:48:56,361 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:56,431 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:56,432 [DEBUG] Periodic send (speaking).
2025-10-14 16:48:56,433 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:48:56,433 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:48:56,433 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:48:56,523 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:56,550 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:56,615 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:48:56,642 [DEBUG] Received audio chunk: 46080 bytes
2025-10-14 16:48:56,642 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 46080}}
2025-10-14 16:48:56,642 [DEBUG] AI started speaking. Recording is paused.
2025-10-14 16:48:56,642 [INFO] EVENT {"event": "ai_speaking_state", "details": {"state": "started"}}
2025-10-14 16:48:56,643 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,643 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,643 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,643 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,675 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,676 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,676 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,676 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,677 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,677 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,678 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,678 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,678 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,678 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,680 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:56,680 [DEBUG] Dropping buffered audio while AI is speaking.
2025-10-14 16:48:56,680 [INFO] EVENT {"event": "audio_dropped", "details": {"reason": "ai_speaking", "bytes": 6144}}
2025-10-14 16:48:56,693 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,693 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,693 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,693 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,715 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,715 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,716 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,716 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,719 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,719 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,727 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,727 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,736 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,736 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,743 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:56,743 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,744 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,761 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,761 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,761 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,762 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,778 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,778 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,778 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,778 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,786 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,786 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,809 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,809 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,814 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,814 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,815 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:56,831 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,831 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,832 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,832 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,855 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,855 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,855 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,855 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,855 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,855 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,856 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,856 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,873 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:56,888 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,889 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,889 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,889 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,889 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,889 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,890 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,890 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,903 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,903 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,905 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,905 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,936 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:56,995 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,995 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,995 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,995 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,996 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,996 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,996 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,996 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,996 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,997 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,997 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,997 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,997 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,997 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,997 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:56,997 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:56,999 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:57,005 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,006 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,021 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,021 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,024 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,024 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,033 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,033 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,045 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,045 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,050 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,051 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,063 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:57,066 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,066 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,067 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,067 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,095 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,095 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,095 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,095 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,104 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,104 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,111 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,111 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,126 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,126 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,132 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:57,158 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,158 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,160 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,160 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,171 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,172 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,180 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,180 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,188 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,188 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,194 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:57,196 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,196 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,204 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,205 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,222 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,222 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,223 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,223 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,239 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,239 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,239 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,239 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,256 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,257 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,257 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,257 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,258 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:57,265 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,265 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,273 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,273 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,281 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,281 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,298 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,298 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,298 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,298 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,317 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,317 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,318 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,318 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,321 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:57,326 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:57,327 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:57,383 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:57,446 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:57,514 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:57,576 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:57,640 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:57,704 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:57,767 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:57,831 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:57,895 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:57,963 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:58,026 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:58,046 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:58,046 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:58,047 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:58,047 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:58,048 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:58,048 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:58,048 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:58,048 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:58,049 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:58,049 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:58,049 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:58,049 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:58,057 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:58,057 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:58,058 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:58,058 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:58,065 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:58,065 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:58,082 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:58,083 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:58,083 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:58,083 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:58,088 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:58,099 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:58,099 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:58,099 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:58,099 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:58,107 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:58,108 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:58,116 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:58,116 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:58,133 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:58,133 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:58,133 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:58,133 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:58,141 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:58,141 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:58,150 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:58,150 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:58,151 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:58,159 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:58,159 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:58,167 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:58,167 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:58,176 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:58,176 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:58,184 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:58,184 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:58,201 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:58,201 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:58,201 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:58,201 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:58,209 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:58,209 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:58,219 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:58,220 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:58,220 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:58,227 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:58,227 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:58,236 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:58,236 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:58,246 [DEBUG] Received audio chunk: 1920 bytes
2025-10-14 16:48:58,246 [INFO] EVENT {"event": "audio_chunk_received", "details": {"bytes": 1920}}
2025-10-14 16:48:58,267 [DEBUG] Model called tool: Update_Person_Memory with ID: function-call-4601194576451013742
2025-10-14 16:48:58,267 [INFO] EVENT {"event": "model_tool_call", "details": {"name": "Update_Person_Memory", "call_id": "function-call-4601194576451013742", "args": {"observation": "User mentioned their friend's name is Pranav. User requested a sample for Pranav.", "conversation": "User asked for another sample for their friend, mentioning the friend's name is Pranav. I informed the user that Pranav has already had a sample as per the policy.", "person_id": 3, "preferences": {"friend_name": "Pranav"}}}}
2025-10-14 16:48:58,267 [DEBUG] Update_Person_Memory tool called with args: {'observation': "User mentioned their friend's name is Pranav. User requested a sample for Pranav.", 'conversation': "User asked for another sample for their friend, mentioning the friend's name is Pranav. I informed the user that Pranav has already had a sample as per the policy.", 'person_id': 3, 'preferences': {'friend_name': 'Pranav'}}
2025-10-14 16:48:58,267 [INFO] EVENT {"event": "memory_tool_invocation", "details": {"name": "Update_Person_Memory", "args": {"observation": "User mentioned their friend's name is Pranav. User requested a sample for Pranav.", "conversation": "User asked for another sample for their friend, mentioning the friend's name is Pranav. I informed the user that Pranav has already had a sample as per the policy.", "person_id": 3, "preferences": {"friend_name": "Pranav"}}}}
2025-10-14 16:48:58,267 [DEBUG] Update_Person_Memory missing fields for person #3: ['state']
2025-10-14 16:48:58,267 [INFO] EVENT {"event": "memory_tool_missing_fields", "details": {"person_id": 3, "missing_fields": ["state"]}}
2025-10-14 16:48:58,267 [DEBUG] Updating memory for person #3 with payload: {'observations': "User mentioned their friend's name is Pranav. User requested a sample for Pranav.", 'preferences': {'friend_name': 'Pranav'}, 'conversation_history': "User asked for another sample for their friend, mentioning the friend's name is Pranav. I informed the user that Pranav has already had a sample as per the policy."}
2025-10-14 16:48:58,267 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 3, "updates": {"observations": "User mentioned their friend's name is Pranav. User requested a sample for Pranav.", "preferences": {"friend_name": "Pranav"}, "conversation_history": "User asked for another sample for their friend, mentioning the friend's name is Pranav. I informed the user that Pranav has already had a sample as per the policy."}}}
2025-10-14 16:48:58,269 [DEBUG] Saved memory cache with 3 people.
2025-10-14 16:48:58,269 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 3}}
2025-10-14 16:48:58,269 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 3, "updates": {"observations": "User mentioned their friend's name is Pranav. User requested a sample for Pranav.", "preferences": {"friend_name": "Pranav"}, "conversation_history": "User asked for another sample for their friend, mentioning the friend's name is Pranav. I informed the user that Pranav has already had a sample as per the policy."}}}
2025-10-14 16:48:58,269 [DEBUG] Updated memory for person #3: {'observations': "User mentioned their friend's name is Pranav. User requested a sample for Pranav.", 'preferences': {'friend_name': 'Pranav'}, 'conversation_history': "User asked for another sample for their friend, mentioning the friend's name is Pranav. I informed the user that Pranav has already had a sample as per the policy."}
2025-10-14 16:48:58,269 [INFO] EVENT {"event": "tool_response_sent", "details": {"tool": "Update_Person_Memory", "response": {"status": "Memory updated", "person_id": 3}}}
2025-10-14 16:48:58,283 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:58,347 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:58,388 [DEBUG] Capturing camera frame.
2025-10-14 16:48:58,414 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:58,473 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:58,538 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:58,619 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:58,735 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:58,786 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:58,838 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:58,893 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:58,944 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:58,996 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:59,049 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:59,112 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:59,128 [DEBUG] FaceReID detections: [{'pid': 1, 'bbox': (520, 85, 732, 351), 'served': True, 'similarity': 0.9328923406989874}, {'pid': 3, 'bbox': (1148, 0, 1413, 229), 'served': False, 'similarity': 0.6410552464488573}]
2025-10-14 16:48:59,129 [DEBUG] Updating memory for person #1 with payload: {'total_interactions': 14}
2025-10-14 16:48:59,129 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 1, "updates": {"total_interactions": 14}}}
2025-10-14 16:48:59,129 [DEBUG] Saved memory cache with 3 people.
2025-10-14 16:48:59,129 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 3}}
2025-10-14 16:48:59,129 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 1, "updates": {"total_interactions": 14}}}
2025-10-14 16:48:59,129 [DEBUG] Updating memory for person #3 with payload: {'total_interactions': 9}
2025-10-14 16:48:59,129 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 3, "updates": {"total_interactions": 9}}}
2025-10-14 16:48:59,130 [DEBUG] Saved memory cache with 3 people.
2025-10-14 16:48:59,130 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 3}}
2025-10-14 16:48:59,130 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 3, "updates": {"total_interactions": 9}}}
2025-10-14 16:48:59,151 [INFO] EVENT {"event": "camera_frame_captured", "details": {"size": 24512}}
2025-10-14 16:48:59,151 [INFO] EVENT {"event": "motion_detected", "details": {}}
2025-10-14 16:48:59,152 [DEBUG] Sending image data (24512 bytes).
2025-10-14 16:48:59,152 [INFO] EVENT {"event": "image_blob_sent", "details": {"bytes": 24512}}
2025-10-14 16:48:59,174 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:59,238 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:59,302 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:59,367 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:59,430 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:59,498 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:59,561 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:59,625 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:59,688 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:59,752 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:59,816 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:59,878 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:48:59,942 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:00,010 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:00,072 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:00,136 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:00,199 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:00,262 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:00,331 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:00,390 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:00,468 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:00,524 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:00,588 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:00,652 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:00,716 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:00,779 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:00,843 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:00,903 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:00,969 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:01,033 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:01,096 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:01,159 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:01,175 [DEBUG] Capturing camera frame.
2025-10-14 16:49:01,223 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:01,286 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:01,350 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:01,420 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:01,483 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:01,542 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:01,606 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:01,668 [DEBUG] FaceReID detections: [{'pid': 1, 'bbox': (493, 89, 704, 352), 'served': True, 'similarity': 0.9398868431442606}, {'pid': 3, 'bbox': (1236, 0, 1480, 244), 'served': False, 'similarity': 0.718729557565512}]
2025-10-14 16:49:01,668 [DEBUG] Updating memory for person #1 with payload: {'total_interactions': 15}
2025-10-14 16:49:01,669 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 1, "updates": {"total_interactions": 15}}}
2025-10-14 16:49:01,670 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:01,670 [DEBUG] Saved memory cache with 3 people.
2025-10-14 16:49:01,670 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 3}}
2025-10-14 16:49:01,670 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 1, "updates": {"total_interactions": 15}}}
2025-10-14 16:49:01,670 [DEBUG] Updating memory for person #3 with payload: {'total_interactions': 10}
2025-10-14 16:49:01,670 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 3, "updates": {"total_interactions": 10}}}
2025-10-14 16:49:01,671 [DEBUG] Saved memory cache with 3 people.
2025-10-14 16:49:01,671 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 3}}
2025-10-14 16:49:01,671 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 3, "updates": {"total_interactions": 10}}}
2025-10-14 16:49:01,689 [INFO] EVENT {"event": "camera_frame_captured", "details": {"size": 24084}}
2025-10-14 16:49:01,689 [INFO] EVENT {"event": "motion_detected", "details": {}}
2025-10-14 16:49:01,689 [DEBUG] Sending image data (24084 bytes).
2025-10-14 16:49:01,689 [INFO] EVENT {"event": "image_blob_sent", "details": {"bytes": 24084}}
2025-10-14 16:49:01,690 [DEBUG] Triggering proactive prompt: [Operator Guidance] Motion observed near the counter. Check who's approaching.
[Person Memory - ID #1]
Last seen: just now
Total interactions: 14
Served samples: 1 (last: 16:48:13)
Current state: Received sample
Recent interactions:
  - [16:48:07] User approached counter.
  - [16:48:13] User accepted sample offer and took one.
  - [16:48:16] User accepted sample offer and took a sample.
Observations:
  - [16:48:07] Person approached the counter and was offered a sample.
  - [16:48:13] Person took a nut bar sample.
  - [16:48:16] Person took a sample.

[Person Memory - ID #3]
Last seen: just now
Total interactions: 9
Served samples: 0
Current state: Received sample
Recent interactions:
  - [16:48:42] User approached counter.
  - [16:48:49] User accepted sample offer and took a sample.
  - [16:48:58] User asked for another sample for their friend, mentioning the friend's name is Pranav. I informed the user that Pranav has already had a sample as per the policy.
Observations:
  - [16:48:42] Person approached the counter and was offered a sample.
  - [16:48:49] Person took a sample.
  - [16:48:58] User mentioned their friend's name is Pranav. User requested a sample for Pranav.
Preferences: {"friend_name": "Pranav"}

2025-10-14 16:49:01,690 [INFO] EVENT {"event": "proactive_prompt", "details": {"prompt": "[Operator Guidance] Motion observed near the counter. Check who's approaching.\n[Person Memory - ID #1]\nLast seen: just now\nTotal interactions: 14\nServed samples: 1 (last: 16:48:13)\nCurrent state: Received sample\nRecent interactions:\n  - [16:48:07] User approached counter.\n  - [16:48:13] User accepted sample offer and took one.\n  - [16:48:16] User accepted sample offer and took a sample.\nObservations:\n  - [16:48:07] Person approached the counter and was offered a sample.\n  - [16:48:13] Person took a nut bar sample.\n  - [16:48:16] Person took a sample.\n\n[Person Memory - ID #3]\nLast seen: just now\nTotal interactions: 9\nServed samples: 0\nCurrent state: Received sample\nRecent interactions:\n  - [16:48:42] User approached counter.\n  - [16:48:49] User accepted sample offer and took a sample.\n  - [16:48:58] User asked for another sample for their friend, mentioning the friend's name is Pranav. I informed the user that Pranav has already had a sample as per the policy.\nObservations:\n  - [16:48:42] Person approached the counter and was offered a sample.\n  - [16:48:49] Person took a sample.\n  - [16:48:58] User mentioned their friend's name is Pranav. User requested a sample for Pranav.\nPreferences: {\"friend_name\": \"Pranav\"}\n"}}
2025-10-14 16:49:01,690 [DEBUG] Sending client content to model (proactive): {"parts": [{"text": "[Operator Guidance] Motion observed near the counter. Check who's approaching.\n[Person Memory - ID #1]\nLast seen: just now\nTotal interactions: 14\nServed samples: 1 (last: 16:48:13)\nCurrent state: Received sample\nRecent interactions:\n  - [16:48:07] User approached counter.\n  - [16:48:13] User accepted sample offer and took one.\n  - [16:48:16] User accepted sample offer and took a sample.\nObservations:\n  - [16:48:07] Person approached the counter and was offered a sample.\n  - [16:48:13] Person took a nut bar sample.\n  - [16:48:16] Person took a sample.\n\n[Person Memory - ID #3]\nLast seen: just now\nTotal interactions: 9\nServed samples: 0\nCurrent state: Received sample\nRecent interactions:\n  - [16:48:42] User approached counter.\n  - [16:48:49] User accepted sample offer and took a sample.\n  - [16:48:58] User asked for another sample for their friend, mentioning the friend's name is Pranav. I informed the user that Pranav has already had a sample as per the policy.\nObservations:\n  - [16:48:42] Person approached the counter and was offered a sample.\n  - [16:48:49] Person took a sample.\n  - [16:48:58] User mentioned their friend's name is Pranav. User requested a sample for Pranav.\nPreferences: {\"friend_name\": \"Pranav\"}\n"}]}
2025-10-14 16:49:01,690 [INFO] EVENT {"event": "llm_text_outbound", "details": {"source": "proactive_prompt", "payload": {"parts": [{"text": "<truncated>"}]}}}
2025-10-14 16:49:01,739 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:01,802 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:01,866 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:01,928 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:01,991 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:02,055 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:02,118 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": true, "delay_remaining": 0.0}}
2025-10-14 16:49:02,139 [DEBUG] AI stopped speaking. Recording will resume after 0.5s delay.
2025-10-14 16:49:02,139 [INFO] EVENT {"event": "ai_speaking_state", "details": {"state": "stopped", "delay": 0.5}}
2025-10-14 16:49:02,186 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:02,249 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:02,311 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:02,375 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:02,443 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:02,504 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:02,567 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:02,630 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": false, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:02,699 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:02,700 [DEBUG] Person started speaking.
2025-10-14 16:49:02,700 [INFO] EVENT {"event": "person_speaking_state", "details": {"state": "started"}}
2025-10-14 16:49:02,700 [DEBUG] Periodic send (speaking).
2025-10-14 16:49:02,700 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 2048, "trigger": "periodic"}}
2025-10-14 16:49:02,700 [DEBUG] Sending audio data (2048 bytes).
2025-10-14 16:49:02,700 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 2048}}
2025-10-14 16:49:02,761 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:02,827 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:02,886 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:02,886 [DEBUG] Person stopped speaking.
2025-10-14 16:49:02,886 [INFO] EVENT {"event": "person_speaking_state", "details": {"state": "stopped"}}
2025-10-14 16:49:02,886 [DEBUG] Sending final audio chunk.
2025-10-14 16:49:02,887 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 6144, "trigger": "speech_end"}}
2025-10-14 16:49:02,887 [DEBUG] Sending audio data (6144 bytes).
2025-10-14 16:49:02,887 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 6144}}
2025-10-14 16:49:02,952 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:03,016 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:03,080 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:03,080 [DEBUG] Person started speaking.
2025-10-14 16:49:03,080 [INFO] EVENT {"event": "person_speaking_state", "details": {"state": "started"}}
2025-10-14 16:49:03,143 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:03,206 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:03,207 [DEBUG] Periodic send (speaking).
2025-10-14 16:49:03,207 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:49:03,207 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:49:03,207 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:49:03,273 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:03,334 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:03,398 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:03,463 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:03,528 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:03,528 [DEBUG] Periodic send (speaking).
2025-10-14 16:49:03,529 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:49:03,529 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:49:03,529 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:49:03,595 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:03,656 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:03,719 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:03,721 [DEBUG] Capturing camera frame.
2025-10-14 16:49:03,787 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:03,850 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:03,850 [DEBUG] Periodic send (speaking).
2025-10-14 16:49:03,850 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:49:03,850 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:49:03,850 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:49:03,915 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:03,977 [DEBUG] FaceReID detections: [{'pid': 1, 'bbox': (481, 131, 984, 745), 'served': True, 'similarity': 0.7244474312450212}]
2025-10-14 16:49:03,978 [DEBUG] Updating memory for person #1 with payload: {'total_interactions': 16}
2025-10-14 16:49:03,978 [INFO] EVENT {"event": "memory_update_request", "details": {"person_id": 1, "updates": {"total_interactions": 16}}}
2025-10-14 16:49:03,978 [DEBUG] Saved memory cache with 3 people.
2025-10-14 16:49:03,978 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 3}}
2025-10-14 16:49:03,978 [INFO] EVENT {"event": "memory_updated", "details": {"person_id": 1, "updates": {"total_interactions": 16}}}
2025-10-14 16:49:03,979 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:03,998 [INFO] EVENT {"event": "camera_frame_captured", "details": {"size": 20647}}
2025-10-14 16:49:03,999 [INFO] EVENT {"event": "motion_detected", "details": {}}
2025-10-14 16:49:03,999 [DEBUG] Sending image data (20647 bytes).
2025-10-14 16:49:03,999 [INFO] EVENT {"event": "image_blob_sent", "details": {"bytes": 20647}}
2025-10-14 16:49:04,040 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:04,107 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:04,170 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:04,170 [DEBUG] Periodic send (speaking).
2025-10-14 16:49:04,170 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240, "trigger": "periodic"}}
2025-10-14 16:49:04,170 [DEBUG] Sending audio data (10240 bytes).
2025-10-14 16:49:04,170 [INFO] EVENT {"event": "audio_blob_sent", "details": {"bytes": 10240}}
2025-10-14 16:49:04,235 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:04,297 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:04,362 [INFO] EVENT {"event": "audio_chunk_read", "details": {"bytes": 2048, "can_send": true, "ai_speaking": false, "delay_remaining": 0.0}}
2025-10-14 16:49:04,518 [DEBUG] Starting cleanup.
2025-10-14 16:49:04,519 [INFO] EVENT {"event": "cleanup_started", "details": {}}
2025-10-14 16:49:04,519 [DEBUG] Saved memory cache with 3 people.
2025-10-14 16:49:04,519 [INFO] EVENT {"event": "memory_cache_saved", "details": {"cache_file": "person_memory_cache.json", "people": 3}}
2025-10-14 16:49:04,698 [DEBUG] KeyboardInterrupt received. Shutting down.
2025-10-14 16:49:04,698 [INFO] EVENT {"event": "keyboard_interrupt", "details": {}}
2025-10-14 16:49:04,698 [DEBUG] Application finished.
2025-10-14 16:49:04,698 [INFO] EVENT {"event": "application_finished", "details": {}}
